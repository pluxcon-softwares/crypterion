exports.ids=[11],exports.modules={"5nff":function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),o=a("ZrOX"),l=a("Q/kq"),c=a("EC67"),i=a("9xET"),u=a.n(i),s=a("Btem"),f=a.n(s),m=a("ZPTe"),p=a.n(m),y=a("mwIZ"),d=a.n(y),b=a("Y+p1"),h=a.n(b),_=a("4IMT"),g=a.n(_),E=a("HDGS"),v=a("7++0"),w=a("qiO9"),O=a("eLk5"),S=a("Falu"),M=a("T0ja"),k=a("55Ip"),j=a("VWBV"),P=a("iNPk"),x=a("QprK"),N=a.n(x),T=a("TJpk");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return(C="function"==typeof Symbol&&"symbol"===F(Symbol.iterator)?function(e){return F(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":F(e)})(e)}function A(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var D=Object(v.c)({pageTitle:{id:"meta.title.marketplace_buy_coin",defaultMessage:"Buy Coin - Marketplace | {name}"}}),L=function(e){function t(e){var a,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=I(t).call(this,e),a=!o||"object"!==C(o)&&"function"!=typeof o?q(r):o,V(q(a),"applyFilter",(function(e){a.setState({drawerState:!1},(function(){a.table.applyFilter(e)}))})),V(q(a),"clearFilter",(function(){a.setState({drawerState:!1},(function(){a.table.clearFilter()}))})),V(q(a),"toggleDrawer",(function(){a.setState((function(e){return{drawerState:!e.drawerState}}))})),V(q(a),"columns",(function(){return[{title:n.a.createElement(v.a,{defaultMessage:"Seller",id:"common.seller"}),dataIndex:"user",render:function(e){return n.a.createElement(M.a,{user:e})}},{title:n.a.createElement(v.a,{defaultMessage:"Coin",id:"common.coin"}),dataIndex:"coin_name"},{title:n.a.createElement(v.a,{defaultMessage:"Payment",id:"common.payment"}),dataIndex:"payment_method",render:function(e,t){return n.a.createElement("div",{style:{whiteSpace:"nowrap"}},n.a.createElement("span",{className:"d-block"},e.name),n.a.createElement("small",null,t.label))}},{title:n.a.createElement(v.a,{defaultMessage:"Currency",id:"common.currency"}),dataIndex:"currency"},{title:n.a.createElement(v.a,{defaultMessage:"Range",id:"common.range"}),key:"range",render:function(e,t){return n.a.createElement("span",null,n.a.createElement("span",{style:{whiteSpace:"nowrap"}},t.formatted_min_amount),n.a.createElement("span",{className:"font-weight-semi-bold mx-2"},n.a.createElement(v.a,{defaultMessage:"To",id:"common.to"})),n.a.createElement("span",{style:{whiteSpace:"nowrap"}},t.formatted_real_max_amount))}},{title:n.a.createElement(v.a,{defaultMessage:"Rate",id:"common.rate"}),dataIndex:"formatted_rate"},{title:n.a.createElement(v.a,{defaultMessage:"Action",id:"common.action"}),key:"action",fixed:"right",render:function(e,t){var a=Object(c.g)(j.a["marketplace.offer"].path,{slug:t.slug});return n.a.createElement(k.a,{to:a},n.a.createElement(g.a,{type:"default",className:"cp-btn-success",size:"small"},n.a.createElement("span",null,n.a.createElement(v.a,{defaultMessage:"Buy",id:"common.buy"}))))}}]})),a.state={drawerState:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),a=t,(r=[{key:"componentDidUpdate",value:function(e,t,a){var r=this.props.location,n=e.location;if(!h()(r,n)){var o=d()(r,"state.filters");this.applyFilter(o)}}},{key:"getPageTitle",value:function(){return this.props.intl.formatMessage(D.pageTitle,{name:N.a.name})}},{key:"render",value:function(){var e=this,t=this.state.drawerState,a=Object(S.b)("marketplace.buy-coin.table"),r=n.a.createElement(w.a,{onApplyFilter:this.applyFilter,onClearFilter:this.clearFilter});return n.a.createElement(n.a.Fragment,null,n.a.createElement(T.Helmet,null,n.a.createElement("title",null,this.getPageTitle())),n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{lg:8,xl:6},n.a.createElement(E.a,{styleName:"d-none d-lg-block",title:n.a.createElement(v.a,{defaultMessage:"Filter Result",id:"common.filter_result"})},r)),n.a.createElement(p.a,{lg:16,xl:18},n.a.createElement("div",{className:"d-block d-lg-none"},n.a.createElement(f.a,{visible:t,onClose:this.toggleDrawer,placement:"right",title:n.a.createElement(v.a,{defaultMessage:"Filter Result",id:"common.filter_result"}),closable:!1},n.a.createElement("div",{className:"p-2"},r))),n.a.createElement(E.a,{styleName:"cp-card-table",title:n.a.createElement(v.a,{defaultMessage:"Available Offers",id:"marketplace.available_offers"}),extra:n.a.createElement(g.a,{type:"primary",shape:"circle",className:"mb-0 material-shadow d-block d-lg-none",icon:"filter",onClick:this.toggleDrawer})},n.a.createElement(O.a,{route:a.url(),columns:this.columns(),className:"mt-1",ref:function(t){return e.table=t},scroll:{x:!0,y:!1},size:"middle"})))))}}])&&A(a.prototype,r),o&&A(a,o),t}(r.Component),Y=Object(P.c)(v.d)(L),B=a("3OWR"),U=a.n(B),z=a("j7zX"),K=a.n(z),W=a("Ikkh"),G=a("qu0K"),H=a.n(G),X=a("Pbn2"),Z=a.n(X),J=a("0XPj"),Q=a.n(J),$=a("7GkX"),ee=a.n($),te=a("J2m7"),ae=a.n(te),re=a("noZS"),ne=a.n(re),oe=a("NIJN"),le=a.n(oe),ce=a("JZM8"),ie=a.n(ce),ue=a("E+oP"),se=a.n(ue),fe=a("+vAN"),me=a.n(fe),pe=a("/MKj"),ye=a("4ztd"),de=a("fVSG"),be=a("bt/X"),he=a.n(be),_e=a("FAat"),ge=a.n(_e),Ee=a("vVgw"),ve=a("ATwu"),we=a.n(ve),Oe=a("FErh"),Se=a.n(Oe);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e){return(ke="function"==typeof Symbol&&"symbol"===Me(Symbol.iterator)?function(e){return Me(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Me(e)})(e)}function je(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(this,xe(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,e),a=t,(r=[{key:"getMinimumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("min_amount");if(a)return Object(P.a)(a,t)}},{key:"getMaximumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("max_amount");if(a)return Object(P.a)(a,t)}},{key:"getMarketPricePercentage",value:function(){return 100+((0,this.props.form.getFieldValue)("profit_margin")||0)}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.marketplaceFee,r=e.paymentMethod,o=e.walletAccount,l=t.getFieldValue("currency"),c=this.getMinimumAmount(),i=(this.getMarketPricePercentage(),this.getMaximumAmount());return n.a.createElement(we.a,{type:"info",message:n.a.createElement("div",null,n.a.createElement("div",{className:"font-weight-medium"},n.a.createElement(v.a,{defaultMessage:"Offer Information",id:"create_offer.buy_offer_information"})),n.a.createElement("ol",{className:"mt-1 pl-3 mb-0"},o&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"You are buying coin for your {wallet} account",id:"create_offer.buy_summary_wallet_account_information",values:{wallet:n.a.createElement("b",null,o.wallet.coin.name)}})),r&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"You want to pay with {method}",id:"create_offer.buy_summary_payment_method_information",values:{method:n.a.createElement("b",null,r.name)}})),a&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"The escrow fee for your selected payment method is {fee}%",id:"create_offer.sell_summary_escrow_fee_information",values:{fee:n.a.createElement("b",null,a)}})),l&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"Your preferred currency of trade is {currency}",id:"create_offer.buy_summary_currency_information",values:{currency:n.a.createElement("b",null,Se()(l))}})),c&&!i&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"You accept trade starting from {minimum}!",id:"create_offer.buy_summary_minimum_amount_information",values:{minimum:n.a.createElement("b",null,c)}})),i&&c&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"You accept trade between {minimum} and {maximum}!",id:"create_offer.buy_summary_amount_range_information",values:{minimum:n.a.createElement("b",null,c),maximum:n.a.createElement("b",null,i)}})))),showIcon:!0})}}])&&je(a.prototype,r),o&&je(a,o),t}(r.Component),Fe=a("mLH4");function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"===Ce(Symbol.iterator)?function(e){return Ce(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ce(e)})(e)}function Ie(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=ge.a.Option,Le=ge.a.OptGroup,Ye=Object(v.c)({paymentMethod:{id:"create_offer.buy_select_payment_method_placeholder",defaultMessage:"Select payment method..."},currency:{id:"create_offer.buy_select_currency_placeholder",defaultMessage:"Select currency..."},walletAccount:{id:"create_offer.buy_select_wallet_account_placeholder",defaultMessage:"Select wallet account..."}}),Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qe(this,Re(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.intl,r=t.accounts,o=t.currencies,l=t.paymentMethods,c=t.marketplaceFee,i=t.auth,s=t.form,f=t.visible,m=t.paymentMethod,y=t.walletAccount,d=he()(l,(function(e){return e.category.name})),b=i.user.location;return n.a.createElement(u.a,{className:"".concat(f?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Wallet Account",id:"create_offer.buy_select_wallet_account_label"}),extra:n.a.createElement(v.a,{defaultMessage:"Select your wallet account to receive funds into!",id:"create_offer.buy_select_wallet_account_extra"})},e("wallet_account",{rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,placeholder:a.formatMessage(Ye.walletAccount),optionFilterProp:"children"},r.map((function(e){return n.a.createElement(De,{key:e.id,value:e.id},e.wallet.coin.name)}))))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Fulfill payment with",id:"create_offer.buy_select_payment_method_label"})},e("payment_method",{rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,placeholder:a.formatMessage(Ye.paymentMethod),optionFilterProp:"children"},ee()(d).map((function(e,t){return n.a.createElement(Le,{key:t,label:e},d[e].map((function(e){return n.a.createElement(De,{key:e.id,value:e.id},e.name)})))}))))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Specify currency to trade with",id:"create_offer.buy_select_currency_label"}),extra:n.a.createElement(v.a,{defaultMessage:"Your offer will be posted for the selected currency.",id:"create_offer.buy_select_currency_extra"})},e("currency",{rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,placeholder:a.formatMessage(Ye.currency),optionFilterProp:"children"},ee()(o).map((function(e){return n.a.createElement(De,{key:e,value:e},o[e].name," (",o[e].code,")")})))))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(v.a,{defaultMessage:"About this page",id:"create_offer.buy_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"We provide support for several payment methods. You can always suggest a new one for our team to consider.",id:"create_offer.buy_payment_method_information"})),b&&n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"This offer will be listed under your country: {country}. This is used to improve the search algorithm, your offers will still be visible for all.",id:"create_offer.buy_country_information",values:{country:n.a.createElement("b",null,n.a.createElement("span",{className:"mr-2"},b.country),n.a.createElement(Fe.a,{code:b.iso_code}))}})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Te,{marketplaceFee:c,paymentMethod:m,walletAccount:y,form:s})))))}}])&&Ie(a.prototype,r),o&&Ie(a,o),t}(r.Component),Ue=Object(P.c)(Object(pe.b)((function(e){var t=e.auth,a=e.collections.currencies;return{accounts:e.wallet.accounts,auth:new Ee.a(t),currencies:a}})))(Be),ze=a("5Dct"),Ke=a.n(ze);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"===We(Symbol.iterator)?function(e){return We(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":We(e)})(e)}function He(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ge.a.Option,ge.a.OptGroup;var Qe=function(e){function t(e){var a,r,n,o,l,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=Xe(t).call(this,e),a=!n||"object"!==Ge(n)&&"function"!=typeof n?Ze(r):n,o=Ze(a),c=function(){var e=a.api,t=e.axios,r=(0,e.route)("marketplace.create-offer.price"),n=a.props,o=n.walletAccount,l=n.form.getFieldValue;a.setState({marketPriceLoading:!0});var c={wallet:o.wallet.id,currency:l("currency")};t.post(r.url(),c).then((function(e){return Object(de.d)(e,(function(e){a.setState({marketPrice:e.price,marketPriceLoading:!1})}))})).catch((function(e){return Object(de.a)(e,(function(){a.setState({marketPriceLoading:!1})}))}))},(l="fetchMarketPrice")in o?Object.defineProperty(o,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[l]=c,a.api=new S.a,a.state={marketPrice:null,marketPriceLoading:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(t,e),a=t,(r=[{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getMinimumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("min_amount");if(a)return Object(P.a)(a,t)}},{key:"getMaximumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("max_amount");if(a)return Object(P.a)(a,t)}},{key:"getMarketPricePercentage",value:function(){return 100+((0,this.props.form.getFieldValue)("profit_margin")||0)}},{key:"render",value:function(){var e=this.state,t=e.marketPrice,a=e.marketPriceLoading,r=this.props,o=(r.intl,r.accounts,r.currencies,r.visible),l=r.form,c=r.marketplaceFee,i=r.paymentMethod,s=r.walletAccount,f=l.getFieldDecorator,m=l.getFieldValue,y=(this.getMinimumAmount(),this.getMarketPricePercentage()),d=(this.getMaximumAmount(),m("currency"));return n.a.createElement(u.a,{className:"".concat(o?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(H.a.Item,{labelAlign:"left",wrapperCol:{xs:16},labelCol:{xs:8},label:n.a.createElement(v.a,{defaultMessage:"Margin",id:"create_offer.buy_input_margin_label"}),extra:n.a.createElement("span",{className:"d-flex align-items-center"},t&&!isNaN(y)&&n.a.createElement("span",{className:"mr-2"},n.a.createElement(v.a,{defaultMessage:"The current market price is {marketPrice} while this offer will be sold for {price}",id:"create_offer.buy_input_margin_extra",values:{price:n.a.createElement("b",null,Object(P.a)(y*t/100,d)),marketPrice:n.a.createElement("b",null,Object(P.a)(t,d))}})),n.a.createElement(Z.a,{spin:a,onClick:this.fetchMarketPrice,type:"sync"}))},f("profit_margin",{initialValue:5,rules:[{type:"number",required:!0}]})(n.a.createElement(Ke.a,{style:{width:"100%"}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Min Amount",id:"create_offer.buy_input_min_amount_label"}),wrapperCol:{xs:16},labelCol:{xs:8}},f("min_amount",{rules:[{type:"number",required:!0}]})(n.a.createElement(Ke.a,{min:1,style:{width:"100%"},parser:function(e){var t=parseFloat(e);if(!isNaN(t))return t}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Max Amount",id:"create_offer.buy_input_max_amount_label"}),wrapperCol:{xs:16},labelCol:{xs:8}},f("max_amount",{rules:[{type:"number",required:!0}]})(n.a.createElement(Ke.a,{min:1,style:{width:"100%"},parser:function(e){var t=parseFloat(e);if(!isNaN(t))return t}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Time Frame",id:"create_offer.buy_input_confirmation_time_frame_label"}),extra:n.a.createElement(v.a,{defaultMessage:"Indicates the amount of time in {minutes} you will be able make their payment. The trade will automatically be canceled if you have not clicked {confirmed} button before the above payment window expires.",id:"create_offer.buy_input_confirmation_time_frame_extra",values:{confirmed:n.a.createElement("b",null,n.a.createElement(v.a,{defaultMessage:"Mark as Paid",id:"common.buy_mark_as_paid"})),minutes:n.a.createElement("b",null,"minutes")}}),wrapperCol:{xs:16},labelCol:{xs:8}},f("confirmation_time_frame",{rules:[{type:"number",required:!0,min:30,max:4350}]})(n.a.createElement(Ke.a,{min:1,step:1,style:{width:"100%"}})))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(v.a,{defaultMessage:"About this page",id:"create_offer.buy_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"Sellers often look for the best value and great vendor ratings. Choose a margin that you think your target seller will find attractive. Here, you can set your exact offers limits, and advanced options.",id:"create_offer.buy_margin_information"})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Te,{marketplaceFee:c,form:l,paymentMethod:i,walletAccount:s})))))}}])&&He(a.prototype,r),o&&He(a,o),t}(r.Component),$e=Object(P.c)(Object(pe.b)((function(e){var t=e.auth,a=e.collections.currencies;return{accounts:e.wallet.accounts,auth:new Ee.a(t),currencies:a}}),null,null,{forwardRef:!0}))(Qe),et=a("g4D/"),tt=a.n(et),at=a("qPIi"),rt=a.n(at),nt=a("UIqZ"),ot=a.n(nt),lt=a("iJl9"),ct=a.n(lt);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e){return(ut="function"==typeof Symbol&&"symbol"===it(Symbol.iterator)?function(e){return it(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":it(e)})(e)}function st(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=ct.a.TextArea,dt=ge.a.Option,bt=Object(v.c)({label:{id:"create_offer.buy_input_label_placeholder",defaultMessage:"Maximum of 25 characters..."},country:{id:"create_offer.buy_select_country_placeholder",defaultMessage:"Choose country of offer..."},tags:{id:"create_offer.buy_select_tags_placeholder",defaultMessage:"Select up to 3 tags..."}}),ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,mt(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=(e.getFieldValue,this.props),r=a.tags,o=a.visible,l=a.paymentMethod,c=a.form,i=a.intl,s=(a.accounts,a.currencies,a.countries),f=a.walletAccount,m=a.marketplaceFee,y=a.auth;return n.a.createElement(u.a,{className:"".concat(o?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Terms",id:"create_offer.buy_input_terms_label"}),extra:n.a.createElement(v.a,{defaultMessage:"This will be shown to seller before starting a trade",id:"create_offer.buy_input_terms_extra"})},t("terms",{rules:[{required:!0}]})(n.a.createElement(yt,{autosize:{minRows:5}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Instruction",id:"create_offer.buy_input_instruction_label"}),extra:n.a.createElement(v.a,{defaultMessage:"This will be shown to seller after starting a trade",id:"create_offer.buy_input_instruction_extra"})},t("instructions",{rules:[{required:!0}]})(n.a.createElement(yt,{autosize:{minRows:5}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Label",id:"create_offer.buy_input_label_label"}),extra:n.a.createElement(v.a,{defaultMessage:"This will appear after your payment method",id:"create_offer.buy_input_label_extra"})},t("label",{rules:[{required:!0,max:25}]})(n.a.createElement(ct.a,{placeholder:i.formatMessage(bt.label)}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Tags",id:"create_offer.buy_select_tags_label"}),extra:n.a.createElement(v.a,{defaultMessage:"This is used to improve search presence of your offer.",id:"create_offer.buy_select_tags_extra"})},t("tags",{rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,mode:"multiple",placeholder:i.formatMessage(bt.tags),optionFilterProp:"children"},r.map((function(e){return n.a.createElement(dt,{key:e.id,value:e.name},e.name)}))))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Country",id:"create_offer.buy_select_country_label"})},t("country",{initialValue:d()(y.user,"location.iso_code"),rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,placeholder:i.formatMessage(bt.country),optionFilterProp:"children"},ee()(s).map((function(e){return n.a.createElement(dt,{key:e,value:Se()(e)},s[e])}))))),n.a.createElement(ot.a,null,n.a.createElement(v.a,{defaultMessage:"Privacy",id:"create_offer.buy_privacy"})),n.a.createElement(H.a.Item,null,t("privacy",{initialValue:"none"})(n.a.createElement(rt.a.Group,null,n.a.createElement(rt.a,{value:"none",className:"d-block my-3"},n.a.createElement(v.a,{defaultMessage:"None",id:"create_offer.buy_filter_none"})),n.a.createElement(rt.a,{value:"all_contacts",className:"d-block my-3"},n.a.createElement(v.a,{defaultMessage:"Show your contacts only",id:"create_offer.buy_filter_all_contacts"})),n.a.createElement(rt.a,{value:"trusted_contacts",className:"d-block my-3"},n.a.createElement(v.a,{defaultMessage:"Show your trusted contacts only",id:"create_offer.buy_filter_trusted_contacts"}))))),n.a.createElement(ot.a,null,n.a.createElement(v.a,{defaultMessage:"Requirements",id:"create_offer.buy_requirements"})),n.a.createElement(H.a.Item,{className:"mb-1"},t("require_phone_verification",{valuePropName:"checked",initialValue:!0})(n.a.createElement(tt.a,null,n.a.createElement(v.a,{defaultMessage:"Require Phone Verification",id:"create_offer.buy_require_phone_verification"})))),n.a.createElement(H.a.Item,{className:"mb-1"},t("require_email_verification",{valuePropName:"checked",initialValue:!0})(n.a.createElement(tt.a,null,n.a.createElement(v.a,{defaultMessage:"Require Email Verification",id:"create_offer.buy_require_email_verification"}))))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(v.a,{defaultMessage:"About this page",id:"create_offer.buy_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"When a customer clicks into your offer, your terms and instructions will tell them what to provide during the trade.",id:"create_offer.buy_terms_of_trade_information"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"You also have the option of moderating who is able to see and who is able to start trade with your offer.",id:"create_offer.buy_filter_requirements_information"})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Te,{marketplaceFee:m,paymentMethod:l,walletAccount:f,form:c})))))}}])&&st(a.prototype,r),o&&st(a,o),t}(r.Component),_t=Object(P.c)(Object(pe.b)((function(e){var t=e.auth,a=e.collections,r=a.currencies,n=a.countries;return{accounts:e.wallet.accounts,auth:new Ee.a(t),currencies:r,countries:n}})))(ht),gt=a("BflS");function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e){return(vt="function"==typeof Symbol&&"symbol"===Et(Symbol.iterator)?function(e){return Et(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Et(e)})(e)}function wt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var jt=me.a.Step,Pt=Object(v.c)({createdSuccessful:{id:"create_offer.offer_created",defaultMessage:"Offer created successfully!."},updatedSuccessful:{id:"create_offer.offer_updated",defaultMessage:"Offer updated successfully!."}}),xt=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=Ot(t).call(this,e),a=!n||"object"!==vt(n)&&"function"!=typeof n?St(r):n,kt(St(a),"handleSubmit",(function(e){e.preventDefault();var t=a.props,r=t.form,n=t.intl,o=t.history,l=t.offer,i=a.api,u=i.axios,s=(0,i.route)("marketplace.create-offer.buy");r.validateFields((function(e,t){se()(e)?(l&&l.id&&(t=U()({},t,{id:l.id})),u.post(s.url(),t).then((function(e){return Object(de.c)(e,r,(function(e){a.setState({confirmLoading:!1});var t=Object(c.g)(j.a["marketplace.offer"].path,{slug:e.slug});se()(o)||o.replace(t)}),l&&l.id?n.formatMessage(Pt.updatedSuccessful):n.formatMessage(Pt.createdSuccessful))})).catch((function(e){return Object(de.b)(e,r,t,(function(){if(a.setState({confirmLoading:!1}),e.response&&e.response.data){var t=e.response.data.errors;se()(t)||a.handleErrors(t)}}))})),a.setState({confirmLoading:!0})):a.handleErrors(e)}))})),kt(St(a),"scrollToTop",(function(){if(a.props.layoutType===gt.b){if("undefined"!=typeof document){var e=document.getElementById("root");e&&e.scrollTo({top:0,behavior:"smooth"})}}else"undefined"!=typeof window&&window.scrollTo({top:0,behavior:"smooth"})})),a.api=new S.a,a.state={current:0,confirmLoading:!1},a.paymentSetupFields=["wallet_account","payment_method","currency"],a.profitMarginFields=["profit_margin","min_amount","max_amount","confirmation_time_frame"],a.termsOfTradeFields=["terms","instructions","label","tags","privacy","require_phone_verification","require_email_verification"],a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.setOfferFields()}},{key:"setOfferFields",value:function(){var e=this.props,t=e.offer,a=e.form;if(!se()(t)){var r=ie()(t,le()(this.paymentSetupFields,this.profitMarginFields,this.termsOfTradeFields)),n=ne()(r,(function(e){return"object"!==vt(e)||null===e||Array.isArray(e)?e:e.id||null}));a.setFieldsValue(n)}}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getMarketPlaceFee",value:function(){var e=this.props,t=e.accounts,a=e.form,r=e.paymentMethods,n=a.getFieldValue("wallet_account");n&&(this.walletAccount=ae()(t,{id:n}));var o=a.getFieldValue("payment_method");if(o&&(this.paymentMethod=ae()(r,{id:o})),this.walletAccount&&this.paymentMethod){var l=this.walletAccount.wallet,c=this.paymentMethod.wallet_fees,i=ae()(c,{wallet_id:l.id});return i&&i.marketplace_fee||l.marketplace_fee}}},{key:"handleErrors",value:function(e){var t=this,a=ee()(e),r=Q()(a,this.paymentSetupFields),n=Q()(a,this.profitMarginFields);r.length>0?this.setState({current:0},(function(){t.scrollToTop()})):n.length>0?this.setState({current:1},(function(){t.scrollToTop()})):this.setState({current:2},(function(){t.scrollToTop()}))}},{key:"next",value:function(){var e=this,t=this.state.current,a=this.props.form;0===t&&a.validateFields(this.paymentSetupFields,(function(t){se()(t)&&e.setState({current:1},(function(){e.scrollToTop(),e.profitMarginRef.fetchMarketPrice()}))})),1===t&&a.validateFields(this.profitMarginFields,(function(t){se()(t)&&e.setState({current:2},(function(){e.scrollToTop()}))}))}},{key:"prev",value:function(){var e=this,t=this.state.current;this.setState({current:t-1},(function(){e.scrollToTop()}))}},{key:"render",value:function(){var e=this,t=this.getMarketPlaceFee(),a=this.props,r=a.intl,o=a.form,l=a.offer,c=a.paymentMethods,i=a.marketplaceTags,u=this.state,s=u.current,f=u.confirmLoading;return n.a.createElement("div",null,n.a.createElement(E.a,{title:l&&l.id?n.a.createElement(v.a,{defaultMessage:"Edit Buy Offer",id:"marketplace.edit_buy_offer"}):n.a.createElement(v.a,{defaultMessage:"Create Buy Offer",id:"marketplace.create_buy_offer"})},n.a.createElement("div",{className:"mb-5 d-none d-sm-flex"},n.a.createElement(me.a,{current:s},n.a.createElement(jt,{title:n.a.createElement(v.a,{defaultMessage:"Payment Setup",id:"create_offer.buy_payment_setup"}),description:n.a.createElement(v.a,{defaultMessage:"Choose currency.",id:"create_offer.buy_payment_setup_desc"})}),n.a.createElement(jt,{title:n.a.createElement(v.a,{defaultMessage:"Profit Margin",id:"create_offer.buy_profit_margin"}),description:n.a.createElement(v.a,{defaultMessage:"Set trade limits.",id:"create_offer.buy_profit_margin_desc"})}),n.a.createElement(jt,{title:n.a.createElement(v.a,{defaultMessage:"Terms of Trade",id:"create_offer.buy_terms_of_trade"}),description:n.a.createElement(v.a,{defaultMessage:"State your terms.",id:"create_offer.buy_terms_of_trade_desc"})}))),n.a.createElement("div",{className:"mt-3"},n.a.createElement(H.a,{onSubmit:this.handleSubmit},n.a.createElement(Ue,{intl:r,form:o,marketplaceFee:t,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,paymentMethods:c,visible:0===s}),n.a.createElement($e,{intl:r,form:o,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,marketplaceFee:t,ref:function(t){return e.profitMarginRef=t},visible:1===s}),n.a.createElement(_t,{intl:r,form:o,tags:i,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,marketplaceFee:t,visible:2===s}),n.a.createElement(H.a.Item,{className:"mt-4",wrapperCol:{xl:{offset:16}}},n.a.createElement("div",{className:"px-xl-3"},s>0&&n.a.createElement(g.a,{onClick:function(){return e.prev()},type:"default"},n.a.createElement(Z.a,{type:"double-left"}),n.a.createElement("span",null,n.a.createElement(v.a,{defaultMessage:"Previous",id:"common.buy_previous"}))),s<2&&n.a.createElement(g.a,{className:"cp-btn-primary",onClick:function(){return e.next()},type:"default"},n.a.createElement("span",null,n.a.createElement(v.a,{defaultMessage:"Next",id:"common.buy_next"})),n.a.createElement(Z.a,{type:"double-right"})),2===s&&n.a.createElement(g.a,{type:"default",loading:f,icon:"save",className:"cp-btn-success",htmlType:"submit"},n.a.createElement("span",null,l&&l.id?n.a.createElement(v.a,{defaultMessage:"Edit Offer",id:"common.buy_edit_offer"}):n.a.createElement(v.a,{defaultMessage:"Create Offer",id:"common.buy_create_offer"})))))))))}}])&&wt(a.prototype,r),o&&wt(a,o),t}(r.Component),Nt=Object(P.c)(Object(pe.b)((function(e){var t=e.settings.layoutType,a=e.collections,r=a.marketplaceTags,n=a.currencies,o=a.paymentMethods;return{layoutType:t,accounts:e.wallet.accounts,marketplaceTags:r,currencies:n,paymentMethods:o}})),Object(ye.a)(),c.i)(xt);function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"===Tt(Symbol.iterator)?function(e){return Tt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Tt(e)})(e)}function Ct(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),At(this,It(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(t,e),a=t,(r=[{key:"getMinimumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("min_amount");if(a)return Object(P.a)(a,t)}},{key:"getMaximumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("max_amount");if(a)return Object(P.a)(a,t)}},{key:"getMarketPricePercentage",value:function(){return 100+((0,this.props.form.getFieldValue)("profit_margin")||0)}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.marketplaceFee,r=e.paymentMethod,o=e.walletAccount,l=t.getFieldValue("currency"),c=this.getMinimumAmount(),i=(this.getMarketPricePercentage(),this.getMaximumAmount());return n.a.createElement(we.a,{type:"info",message:n.a.createElement("div",null,n.a.createElement("div",{className:"font-weight-medium"},n.a.createElement(v.a,{defaultMessage:"Offer Information",id:"create_offer.sell_offer_information"})),n.a.createElement("ol",{className:"mt-1 pl-3 mb-0"},o&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"You are selling from your {wallet} account",id:"create_offer.sell_summary_wallet_account_information",values:{wallet:n.a.createElement("b",null,o.wallet.coin.name)}})),r&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"You want to get paid with {method}",id:"create_offer.sell_summary_payment_method_information",values:{method:n.a.createElement("b",null,r.name)}})),a&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"The escrow fee for your selected payment method is {fee}%",id:"create_offer.sell_summary_escrow_fee_information",values:{fee:n.a.createElement("b",null,a)}})),l&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"Your preferred currency of trade is {currency}",id:"create_offer.sell_summary_currency_information",values:{currency:n.a.createElement("b",null,Se()(l))}})),c&&!i&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"You accept trade starting from {minimum}!",id:"create_offer.sell_summary_minimum_amount_information",values:{minimum:n.a.createElement("b",null,c)}})),i&&c&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"You accept trade between {minimum} and {maximum}!",id:"create_offer.sell_summary_amount_range_information",values:{minimum:n.a.createElement("b",null,c),maximum:n.a.createElement("b",null,i)}})))),showIcon:!0})}}])&&Ct(a.prototype,r),o&&Ct(a,o),t}(r.Component);function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"===Vt(Symbol.iterator)?function(e){return Vt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Vt(e)})(e)}function Lt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zt=ge.a.Option,Kt=ge.a.OptGroup,Wt=Object(v.c)({paymentMethod:{id:"create_offer.sell_select_payment_method_placeholder",defaultMessage:"Select payment method..."},currency:{id:"create_offer.sell_select_currency_placeholder",defaultMessage:"Select currency..."},walletAccount:{id:"create_offer.sell_select_wallet_account_placeholder",defaultMessage:"Select wallet account..."}}),Gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yt(this,Bt(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.intl,r=t.accounts,o=t.currencies,l=t.paymentMethods,c=t.marketplaceFee,i=t.auth,s=t.form,f=t.visible,m=t.paymentMethod,y=t.walletAccount,d=he()(l,(function(e){return e.category.name})),b=i.user.location;return n.a.createElement(u.a,{className:"".concat(f?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Sell from Wallet Account",id:"create_offer.sell_select_wallet_account_label"}),extra:n.a.createElement(v.a,{defaultMessage:"Select your wallet account to sell from!",id:"create_offer.sell_select_wallet_account_extra"})},e("wallet_account",{rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,placeholder:a.formatMessage(Wt.walletAccount),optionFilterProp:"children"},r.map((function(e){return n.a.createElement(zt,{key:e.id,value:e.id},e.wallet.coin.name)}))))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Receive payment with",id:"create_offer.sell_select_payment_method_label"})},e("payment_method",{rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,placeholder:a.formatMessage(Wt.paymentMethod),optionFilterProp:"children"},ee()(d).map((function(e,t){return n.a.createElement(Kt,{key:t,label:e},d[e].map((function(e){return n.a.createElement(zt,{key:e.id,value:e.id},e.name)})))}))))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Specify currency to trade with",id:"create_offer.sell_select_currency_label"}),extra:n.a.createElement(v.a,{defaultMessage:"Your offer will be posted for the selected currency.",id:"create_offer.sell_select_currency_extra"})},e("currency",{rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,placeholder:a.formatMessage(Wt.currency),optionFilterProp:"children"},ee()(o).map((function(e){return n.a.createElement(zt,{key:e,value:e},o[e].name," (",o[e].code,")")})))))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(v.a,{defaultMessage:"About this page",id:"create_offer.sell_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"We provide support for several payment methods. You can always suggest a new one for our team to consider. ",id:"create_offer.sell_payment_method_information"})),b&&n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"This offer will be listed under your country: {country}. This is used to improve the search algorithm, your offers will still be visible for all.",id:"create_offer.sell_country_information",values:{country:n.a.createElement("b",null,n.a.createElement("span",{className:"mr-2"},b.country),n.a.createElement(Fe.a,{code:b.iso_code}))}})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Rt,{marketplaceFee:c,paymentMethod:m,walletAccount:y,form:s})))))}}])&&Lt(a.prototype,r),o&&Lt(a,o),t}(r.Component),Ht=Object(P.c)(Object(pe.b)((function(e){var t=e.auth,a=e.collections.currencies;return{accounts:e.wallet.accounts,auth:new Ee.a(t),currencies:a}})))(Gt);function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"===Xt(Symbol.iterator)?function(e){return Xt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Xt(e)})(e)}function Jt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ge.a.Option,ge.a.OptGroup;var ta=function(e){function t(e){var a,r,n,o,l,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=Qt(t).call(this,e),a=!n||"object"!==Zt(n)&&"function"!=typeof n?$t(r):n,o=$t(a),c=function(){var e=a.api,t=e.axios,r=(0,e.route)("marketplace.create-offer.price"),n=a.props,o=n.walletAccount,l=n.form.getFieldValue;a.setState({marketPriceLoading:!0});var c={wallet:o.wallet.id,currency:l("currency")};t.post(r.url(),c).then((function(e){return Object(de.d)(e,(function(e){a.setState({marketPrice:e.price,marketPriceLoading:!1})}))})).catch((function(e){return Object(de.a)(e,(function(){a.setState({marketPriceLoading:!1})}))}))},(l="fetchMarketPrice")in o?Object.defineProperty(o,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[l]=c,a.api=new S.a,a.state={marketPrice:null,marketPriceLoading:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(t,e),a=t,(r=[{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getMinimumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("min_amount");if(a)return Object(P.a)(a,t)}},{key:"getMaximumAmount",value:function(){var e=this.props.form.getFieldValue,t=e("currency"),a=e("max_amount");if(a)return Object(P.a)(a,t)}},{key:"getMarketPricePercentage",value:function(){return 100+((0,this.props.form.getFieldValue)("profit_margin")||0)}},{key:"render",value:function(){var e=this.state,t=e.marketPrice,a=e.marketPriceLoading,r=this.props,o=(r.intl,r.accounts,r.currencies,r.visible),l=r.form,c=r.marketplaceFee,i=r.paymentMethod,s=r.walletAccount,f=l.getFieldDecorator,m=l.getFieldValue,y=this.getMinimumAmount(),d=this.getMarketPricePercentage(),b=this.getMaximumAmount(),h=m("currency");return n.a.createElement(u.a,{className:"".concat(o?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(H.a.Item,{labelAlign:"left",wrapperCol:{xs:16},labelCol:{xs:8},label:n.a.createElement(v.a,{defaultMessage:"Margin",id:"create_offer.sell_input_margin_label"}),extra:n.a.createElement("span",{className:"d-flex align-items-center"},t&&!isNaN(d)&&n.a.createElement("span",{className:"mr-2"},n.a.createElement(v.a,{defaultMessage:"The current market price is {marketPrice} while this offer will be sold for {price}",id:"create_offer.sell_input_margin_extra",values:{price:n.a.createElement("b",null,Object(P.a)(d*t/100,h)),marketPrice:n.a.createElement("b",null,Object(P.a)(t,h))}})),n.a.createElement(Z.a,{spin:a,onClick:this.fetchMarketPrice,type:"sync"}))},f("profit_margin",{initialValue:5,rules:[{type:"number",required:!0}]})(n.a.createElement(Ke.a,{style:{width:"100%"}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Min Amount",id:"create_offer.sell_input_min_amount_label"}),wrapperCol:{xs:16},labelCol:{xs:8}},f("min_amount",{rules:[{type:"number",required:!0}]})(n.a.createElement(Ke.a,{min:1,style:{width:"100%"},parser:function(e){var t=parseFloat(e);if(!isNaN(t))return t}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Max Amount",id:"create_offer.sell_input_max_amount_label"}),wrapperCol:{xs:16},labelCol:{xs:8}},f("max_amount",{rules:[{type:"number",required:!0}]})(n.a.createElement(Ke.a,{min:1,style:{width:"100%"},parser:function(e){var t=parseFloat(e);if(!isNaN(t))return t}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Time Frame",id:"create_offer.sell_input_confirmation_time_frame_label"}),extra:n.a.createElement(v.a,{defaultMessage:"Indicates the amount of time in {minutes} your buyer has to make their payment. The trade will automatically be canceled if the buyer has not clicked {confirmed} before the payment window expires.",id:"create_offer.sell_input_confirmation_time_frame_extra",values:{confirmed:n.a.createElement("b",null,n.a.createElement(v.a,{defaultMessage:"Mark as Paid",id:"common.sell_mark_as_paid"})),minutes:n.a.createElement("b",null,"minutes")}}),wrapperCol:{xs:16},labelCol:{xs:8}},f("confirmation_time_frame",{rules:[{type:"number",required:!0,min:30,max:4350}]})(n.a.createElement(Ke.a,{min:1,step:1,style:{width:"100%"}})))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(v.a,{defaultMessage:"About this page",id:"create_offer.sell_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"Buyers often look for the best value and great vendor ratings. Choose a margin that you think your target buyers will find attractive. Here, you can set your exact offers limits, and advanced options.",id:"create_offer.sell_margin_information"})),n.a.createElement("div",null,(b||y)&&n.a.createElement(we.a,{type:"warning",message:n.a.createElement("div",null,n.a.createElement("span",null,n.a.createElement(v.a,{defaultMessage:"Your offer will not be shown to the public unless you comply with the following:",id:"create_offer.sell_offer_visibility_info"})),n.a.createElement("ul",{className:"mt-2 pl-3"},b&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"Your wallet account has at least {maximum} available, which is the maximum amount of your offer!",id:"create_offer.sell_offer_visibility_max_amount_requirement",values:{maximum:n.a.createElement("b",null,b)}})),!b&&y&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"Your wallet account has at least {minimum} available, which is the minimum amount of your offer!",id:"create_offer.sell_offer_visibility_min_amount_requirement",values:{minimum:n.a.createElement("b",null,y)}})))),showIcon:!0})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Rt,{marketplaceFee:c,form:l,paymentMethod:i,walletAccount:s})))))}}])&&Jt(a.prototype,r),o&&Jt(a,o),t}(r.Component),aa=Object(P.c)(Object(pe.b)((function(e){var t=e.auth,a=e.collections.currencies;return{accounts:e.wallet.accounts,auth:new Ee.a(t),currencies:a}}),null,null,{forwardRef:!0}))(ta);function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function na(e){return(na="function"==typeof Symbol&&"symbol"===ra(Symbol.iterator)?function(e){return ra(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ra(e)})(e)}function oa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t){return!t||"object"!==na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ua=ct.a.TextArea,sa=ge.a.Option,fa=Object(v.c)({label:{id:"create_offer.input_label_placeholder",defaultMessage:"Maximum of 25 characters..."},country:{id:"create_offer.sell_select_country_placeholder",defaultMessage:"Choose country of offer..."},tags:{id:"create_offer.select_tags_placeholder",defaultMessage:"Select up to 3 tags..."}}),ma=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),la(this,ca(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=(e.getFieldValue,this.props),r=a.paymentMethod,o=a.walletAccount,l=a.visible,c=a.intl,i=(a.accounts,a.currencies,a.countries),s=a.marketplaceFee,f=a.form,m=a.tags,y=a.auth;return n.a.createElement(u.a,{className:"".concat(l?"d-block":"d-none")},n.a.createElement(p.a,{xl:16,className:"mb-3"},n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Terms",id:"create_offer.sell_input_terms_label"}),extra:n.a.createElement(v.a,{defaultMessage:"This will be shown to buyer before starting a trade",id:"create_offer.sell_input_terms_extra"})},t("terms",{rules:[{required:!0}]})(n.a.createElement(ua,{autosize:{minRows:5}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Instruction",id:"create_offer.sell_input_instruction_label"}),extra:n.a.createElement(v.a,{defaultMessage:"This will be shown to buyer after starting a trade",id:"create_offer.sell_input_instruction_extra"})},t("instructions",{rules:[{required:!0}]})(n.a.createElement(ua,{autosize:{minRows:5}}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Label",id:"create_offer.sell_input_label_label"}),extra:n.a.createElement(v.a,{defaultMessage:"This will appear after your payment method",id:"create_offer.sell_input_label_extra"})},t("label",{rules:[{required:!0,max:25}]})(n.a.createElement(ct.a,{placeholder:c.formatMessage(fa.label)}))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Tags",id:"create_offer.sell_select_tags_label"}),extra:n.a.createElement(v.a,{defaultMessage:"This is used to improve search presence of your offer.",id:"create_offer.sell_select_tags_extra"})},t("tags",{rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,mode:"multiple",placeholder:c.formatMessage(fa.tags),optionFilterProp:"children"},m.map((function(e){return n.a.createElement(sa,{key:e.id,value:e.name},e.name)}))))),n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Country",id:"create_offer.sell_select_country_label"})},t("country",{initialValue:d()(y.user,"location.iso_code"),rules:[{required:!0}]})(n.a.createElement(ge.a,{showSearch:!0,placeholder:c.formatMessage(fa.country),optionFilterProp:"children"},ee()(i).map((function(e){return n.a.createElement(sa,{key:e,value:Se()(e)},i[e])}))))),n.a.createElement(ot.a,null,n.a.createElement(v.a,{defaultMessage:"Privacy",id:"create_offer.sell_privacy"})),n.a.createElement(H.a.Item,null,t("privacy",{initialValue:"none"})(n.a.createElement(rt.a.Group,null,n.a.createElement(rt.a,{value:"none",className:"d-block my-3"},n.a.createElement(v.a,{defaultMessage:"None",id:"create_offer.sell_filter_none"})),n.a.createElement(rt.a,{value:"all_contacts",className:"d-block my-3"},n.a.createElement(v.a,{defaultMessage:"Show your contacts only",id:"create_offer.sell_filter_all_contacts"})),n.a.createElement(rt.a,{value:"trusted_contacts",className:"d-block my-3"},n.a.createElement(v.a,{defaultMessage:"Show your trusted contacts only",id:"create_offer.sell_filter_trusted_contacts"}))))),n.a.createElement(ot.a,null,n.a.createElement(v.a,{defaultMessage:"Requirements",id:"create_offer.sell_requirements"})),n.a.createElement(H.a.Item,{className:"mb-1"},t("require_phone_verification",{valuePropName:"checked",initialValue:!0})(n.a.createElement(tt.a,null,n.a.createElement(v.a,{defaultMessage:"Require Phone Verification",id:"create_offer.sell_require_phone_verification"})))),n.a.createElement(H.a.Item,{className:"mb-1"},t("require_email_verification",{valuePropName:"checked",initialValue:!0})(n.a.createElement(tt.a,null,n.a.createElement(v.a,{defaultMessage:"Require Email Verification",id:"create_offer.sell_require_email_verification"}))))),n.a.createElement(p.a,{xl:8},n.a.createElement("div",{className:"px-xl-3 ml-xl-3 cp-border-left-xl"},n.a.createElement("h1",null,n.a.createElement(v.a,{defaultMessage:"About this page",id:"create_offer.sell_about_page"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"When a customer clicks into your offer, your terms and instructions will tell them what to provide during the trade.",id:"create_offer.sell_terms_of_trade_information"})),n.a.createElement("p",{className:"text-justify"},n.a.createElement(v.a,{defaultMessage:"You also have the option of moderating who is able to see and who is able to start trade with your offer.",id:"create_offer.sell_filter_requirements_information"})),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Rt,{marketplaceFee:s,paymentMethod:r,walletAccount:o,form:f})))))}}])&&oa(a.prototype,r),o&&oa(a,o),t}(r.Component),pa=Object(P.c)(Object(pe.b)((function(e){var t=e.auth,a=e.collections,r=a.currencies,n=a.countries;return{accounts:e.wallet.accounts,auth:new Ee.a(t),currencies:r,countries:n}})))(ma);function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e){return(da="function"==typeof Symbol&&"symbol"===ya(Symbol.iterator)?function(e){return ya(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ya(e)})(e)}function ba(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ea(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var va=me.a.Step,wa=Object(v.c)({createdSuccessful:{id:"create_offer.offer_created",defaultMessage:"Offer created successfully!."},updatedSuccessful:{id:"create_offer.offer_updated",defaultMessage:"Offer updated successfully!."}}),Oa=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=ha(t).call(this,e),a=!n||"object"!==da(n)&&"function"!=typeof n?_a(r):n,Ea(_a(a),"handleSubmit",(function(e){e.preventDefault();var t=a.props,r=t.form,n=t.intl,o=t.history,l=t.offer,i=a.api,u=i.axios,s=(0,i.route)("marketplace.create-offer.sell");r.validateFields((function(e,t){se()(e)?(l&&l.id&&(t=U()({},t,{id:l.id})),u.post(s.url(),t).then((function(e){return Object(de.c)(e,r,(function(e){a.setState({confirmLoading:!1});var t=Object(c.g)(j.a["marketplace.offer"].path,{slug:e.slug});se()(o)||o.replace(t)}),l&&l.id?n.formatMessage(wa.updatedSuccessful):n.formatMessage(wa.createdSuccessful))})).catch((function(e){return Object(de.b)(e,r,t,(function(){if(a.setState({confirmLoading:!1}),e.response&&e.response.data){var t=e.response.data.errors;se()(t)||a.handleErrors(t)}}))})),a.setState({confirmLoading:!0})):a.handleErrors(e)}))})),Ea(_a(a),"scrollToTop",(function(){if(a.props.layoutType===gt.b){if("undefined"!=typeof document){var e=document.getElementById("root");e&&e.scrollTo({top:0,behavior:"smooth"})}}else"undefined"!=typeof window&&window.scrollTo({top:0,behavior:"smooth"})})),a.api=new S.a,a.state={current:0,confirmLoading:!1},a.paymentSetupFields=["wallet_account","payment_method","currency"],a.profitMarginFields=["profit_margin","min_amount","max_amount","confirmation_time_frame"],a.termsOfTradeFields=["terms","instructions","label","tags","privacy","require_phone_verification","require_email_verification"],a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.setOfferFields()}},{key:"setOfferFields",value:function(){var e=this.props,t=e.offer,a=e.form;if(t&&t.id){var r=ie()(t,le()(this.paymentSetupFields,this.profitMarginFields,this.termsOfTradeFields)),n=ne()(r,(function(e){return"object"!==da(e)||null===e||Array.isArray(e)?e:e.id||null}));a.setFieldsValue(n)}}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getMarketPlaceFee",value:function(){var e=this.props,t=e.accounts,a=e.form,r=e.paymentMethods,n=a.getFieldValue("wallet_account");n&&(this.walletAccount=ae()(t,{id:n}));var o=a.getFieldValue("payment_method");if(o&&(this.paymentMethod=ae()(r,{id:o})),this.walletAccount&&this.paymentMethod){var l=this.walletAccount.wallet,c=this.paymentMethod.wallet_fees,i=ae()(c,{wallet_id:l.id});return i&&i.marketplace_fee||l.marketplace_fee}}},{key:"handleErrors",value:function(e){var t=this,a=ee()(e),r=Q()(a,this.paymentSetupFields),n=Q()(a,this.profitMarginFields);r.length>0?this.setState({current:0},(function(){t.scrollToTop()})):n.length>0?this.setState({current:1},(function(){t.scrollToTop()})):this.setState({current:2},(function(){t.scrollToTop()}))}},{key:"next",value:function(){var e=this,t=this.state.current,a=this.props.form;0===t&&a.validateFields(this.paymentSetupFields,(function(t){se()(t)&&e.setState({current:1},(function(){e.scrollToTop(),e.profitMarginRef.fetchMarketPrice()}))})),1===t&&a.validateFields(this.profitMarginFields,(function(t){se()(t)&&e.setState({current:2},(function(){e.scrollToTop()}))}))}},{key:"prev",value:function(){var e=this,t=this.state.current;this.setState({current:t-1},(function(){e.scrollToTop()}))}},{key:"render",value:function(){var e=this,t=this.getMarketPlaceFee(),a=this.props,r=a.intl,o=a.form,l=a.offer,c=a.paymentMethods,i=a.marketplaceTags,u=this.state,s=u.current,f=u.confirmLoading;return n.a.createElement("div",null,n.a.createElement(E.a,{title:l&&l.id?n.a.createElement(v.a,{defaultMessage:"Edit Sell Offer",id:"marketplace.edit_sell_offer"}):n.a.createElement(v.a,{defaultMessage:"Create Sell Offer",id:"marketplace.create_sell_offer"})},n.a.createElement("div",{className:"mb-5 d-none d-sm-flex"},n.a.createElement(me.a,{current:s},n.a.createElement(va,{title:n.a.createElement(v.a,{defaultMessage:"Payment Setup",id:"create_offer.sell_payment_setup"}),description:n.a.createElement(v.a,{defaultMessage:"Choose currency.",id:"create_offer.sell_payment_setup_desc"})}),n.a.createElement(va,{title:n.a.createElement(v.a,{defaultMessage:"Profit Margin",id:"create_offer.sell_profit_margin"}),description:n.a.createElement(v.a,{defaultMessage:"Set trade limits.",id:"create_offer.sell_profit_margin_desc"})}),n.a.createElement(va,{title:n.a.createElement(v.a,{defaultMessage:"Terms of Trade",id:"create_offer.sell_terms_of_trade"}),description:n.a.createElement(v.a,{defaultMessage:"State your terms.",id:"create_offer.sell_terms_of_trade_desc"})}))),n.a.createElement("div",{className:"mt-3"},n.a.createElement(H.a,{onSubmit:this.handleSubmit},n.a.createElement(Ht,{intl:r,form:o,marketplaceFee:t,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,paymentMethods:c,visible:0===s}),n.a.createElement(aa,{intl:r,form:o,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,marketplaceFee:t,ref:function(t){return e.profitMarginRef=t},visible:1===s}),n.a.createElement(pa,{intl:r,form:o,tags:i,paymentMethod:this.paymentMethod,walletAccount:this.walletAccount,marketplaceFee:t,visible:2===s}),n.a.createElement(H.a.Item,{className:"mt-4",wrapperCol:{xl:{offset:16}}},n.a.createElement("div",{className:"px-xl-3"},s>0&&n.a.createElement(g.a,{onClick:function(){return e.prev()},type:"default"},n.a.createElement(Z.a,{type:"double-left"}),n.a.createElement("span",null,n.a.createElement(v.a,{defaultMessage:"Previous",id:"common.sell_previous"}))),s<2&&n.a.createElement(g.a,{className:"cp-btn-primary",onClick:function(){return e.next()},type:"default"},n.a.createElement("span",null,n.a.createElement(v.a,{defaultMessage:"Next",id:"common.sell_next"})),n.a.createElement(Z.a,{type:"double-right"})),2===s&&n.a.createElement(g.a,{type:"default",loading:f,icon:"save",className:"cp-btn-success",htmlType:"submit"},n.a.createElement("span",null,l&&l.id?n.a.createElement(v.a,{defaultMessage:"Edit Offer",id:"common.sell_edit_offer"}):n.a.createElement(v.a,{defaultMessage:"Create Offer",id:"common.sell_create_offer"})))))))))}}])&&ba(a.prototype,r),o&&ba(a,o),t}(r.Component),Sa=Object(P.c)(Object(pe.b)((function(e){var t=e.settings.layoutType,a=e.collections,r=a.marketplaceTags,n=a.currencies,o=a.paymentMethods;return{layoutType:t,accounts:e.wallet.accounts,marketplaceTags:r,currencies:n,paymentMethods:o}})),Object(ye.a)(),c.i)(Oa);function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(e){return(ka="function"==typeof Symbol&&"symbol"===Ma(Symbol.iterator)?function(e){return Ma(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ma(e)})(e)}function ja(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pa(e,t){return!t||"object"!==ka(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ta=Object(v.c)({pageTitle:{id:"meta.title.marketplace_create_offer",defaultMessage:"Create Offer - Marketplace | {name}"}}),Fa=K.a.TabPane,Ca=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pa(this,xa(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(t,e),a=t,(r=[{key:"getPageTitle",value:function(){return this.props.intl.formatMessage(Ta.pageTitle,{name:N.a.name})}},{key:"render",value:function(){var e=this.props.location,t={},a=d()(e,"state.offer");return a&&a.id&&("sell"===a.type&&(t=U()(t,{defaultActiveKey:"create_sell_offer"})),"buy"===a.type&&(t=U()(t,{defaultActiveKey:"create_buy_offer"}))),n.a.createElement(n.a.Fragment,null,n.a.createElement(T.Helmet,null,n.a.createElement("title",null,this.getPageTitle())),n.a.createElement(W.a,t,n.a.createElement(Fa,{key:"create_sell_offer",tab:n.a.createElement("span",{className:"d-flex align-items-center"},n.a.createElement("i",{className:"la la-sign-out-alt cp-fs-xl mr-2"}),n.a.createElement("span",null,n.a.createElement(v.a,{defaultMessage:"Sell Offer",id:"marketplace.sell_offer"})))},n.a.createElement(Sa,{offer:a&&"sell"===a.type&&a})),n.a.createElement(Fa,{key:"create_buy_offer",tab:n.a.createElement("span",{className:"d-flex align-items-center"},n.a.createElement("i",{className:"la la-sign-in-alt cp-fs-xl mr-2"}),n.a.createElement("span",null,n.a.createElement(v.a,{defaultMessage:"Buy Offer",id:"marketplace.buy_offer"})))},n.a.createElement(Nt,{offer:a&&"buy"===a.type&&a}))))}}])&&ja(a.prototype,r),o&&ja(a,o),t}(r.Component),Aa=Object(P.c)(Object(pe.b)((function(e){var t=e.auth;return{auth:new Ee.a(t)}})),v.d)(Ca);function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qa(e){return(qa="function"==typeof Symbol&&"symbol"===Ia(Symbol.iterator)?function(e){return Ia(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ia(e)})(e)}function Ra(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Da(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function La(e,t){return(La=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ya(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ba=Object(v.c)({pageTitle:{id:"meta.title.marketplace_sell_coin",defaultMessage:"Sell Coin - Marketplace | {name}"}}),Ua=function(e){function t(e){var a,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Va(t).call(this,e),a=!o||"object"!==qa(o)&&"function"!=typeof o?Da(r):o,Ya(Da(a),"applyFilter",(function(e){a.setState({drawerState:!1},(function(){a.table.applyFilter(e)}))})),Ya(Da(a),"clearFilter",(function(){a.setState({drawerState:!1},(function(){a.table.clearFilter()}))})),Ya(Da(a),"toggleDrawer",(function(){a.setState((function(e){return{drawerState:!e.drawerState}}))})),Ya(Da(a),"columns",(function(){return[{title:n.a.createElement(v.a,{defaultMessage:"Buyer",id:"common.buyer"}),dataIndex:"user",render:function(e){return n.a.createElement(M.a,{user:e})}},{title:n.a.createElement(v.a,{defaultMessage:"Coin",id:"common.coin"}),dataIndex:"coin_name"},{title:n.a.createElement(v.a,{defaultMessage:"Payment",id:"common.payment"}),dataIndex:"payment_method",render:function(e,t){return n.a.createElement("div",{style:{whiteSpace:"nowrap"}},n.a.createElement("span",{className:"d-block"},e.name),n.a.createElement("small",{className:"d-block"},t.label))}},{title:n.a.createElement(v.a,{defaultMessage:"Currency",id:"common.currency"}),dataIndex:"currency"},{title:n.a.createElement(v.a,{defaultMessage:"Range",id:"common.range"}),key:"range",render:function(e,t){return n.a.createElement("span",null,n.a.createElement("span",{style:{whiteSpace:"nowrap"}},t.formatted_min_amount),n.a.createElement("span",{className:"font-weight-semi-bold mx-2"},n.a.createElement(v.a,{defaultMessage:"To",id:"common.to"})),n.a.createElement("span",{style:{whiteSpace:"nowrap"}},t.formatted_real_max_amount))}},{title:n.a.createElement(v.a,{defaultMessage:"Rate",id:"common.rate"}),dataIndex:"formatted_rate"},{title:n.a.createElement(v.a,{defaultMessage:"Action",id:"common.action"}),key:"action",fixed:"right",render:function(e,t){var a=Object(c.g)(j.a["marketplace.offer"].path,{slug:t.slug});return n.a.createElement(k.a,{to:a},n.a.createElement(g.a,{type:"default",className:"cp-btn-danger",size:"small"},n.a.createElement("span",null,n.a.createElement(v.a,{defaultMessage:"Sell",id:"common.sell"}))))}}]})),a.state={drawerState:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&La(e,t)}(t,e),a=t,(r=[{key:"getPageTitle",value:function(){return this.props.intl.formatMessage(Ba.pageTitle,{name:N.a.name})}},{key:"render",value:function(){var e=this,t=this.state.drawerState,a=Object(S.b)("marketplace.sell-coin.table"),r=n.a.createElement(w.a,{onApplyFilter:this.applyFilter,onClearFilter:this.clearFilter});return n.a.createElement(n.a.Fragment,null,n.a.createElement(T.Helmet,null,n.a.createElement("title",null,this.getPageTitle())),n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{lg:8,xl:6},n.a.createElement(E.a,{styleName:"d-none d-lg-block",title:n.a.createElement(v.a,{defaultMessage:"Filter Result",id:"common.filter_result"})},r)),n.a.createElement(p.a,{lg:16,xl:18},n.a.createElement("div",{className:"d-block d-lg-none"},n.a.createElement(f.a,{visible:t,onClose:this.toggleDrawer,placement:"right",title:n.a.createElement(v.a,{defaultMessage:"Filter Result",id:"common.filter_result"}),closable:!1},n.a.createElement("div",{className:"p-2"},r))),n.a.createElement(E.a,{styleName:"cp-card-table",title:n.a.createElement(v.a,{defaultMessage:"Available Offers",id:"marketplace.available_offers"}),extra:n.a.createElement(g.a,{type:"primary",shape:"circle",className:"mb-0 material-shadow d-block d-lg-none",icon:"filter",onClick:this.toggleDrawer})},n.a.createElement(O.a,{route:a.url(),columns:this.columns(),className:"mt-1",ref:function(t){return e.table=t},scroll:{x:!0,y:!1},size:"middle"})))))}}])&&Ra(a.prototype,r),o&&Ra(a,o),t}(r.Component),za=Object(P.c)(v.d)(Ua),Ka=a("fTA7"),Wa=a.n(Ka),Ga=a("v1ta"),Ha=a("re1g"),Xa=a("amnm"),Za=a("wUfQ"),Ja=a("odIg"),Qa=a("tpxX"),$a=a.n(Qa),er=a("17x9"),tr=a.n(er);function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e){return(rr="function"==typeof Symbol&&"symbol"===ar(Symbol.iterator)?function(e){return ar(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ar(e)})(e)}function nr(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(e,t){return(cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ir(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ur=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=or(t).call(this,e),a=!n||"object"!==rr(n)&&"function"!=typeof n?lr(r):n,ir(lr(a),"convert",(function(e,t,a){var r=parseFloat(e);if(Number.isNaN(r))return"";var n=t(r);return $a()(n,a).toString()})),ir(lr(a),"handlePriceChange",(function(e){a.setState({value:e.target.value,scale:"price"},(function(){a.triggerControlChange()}))})),ir(lr(a),"handleCoinChange",(function(e){a.setState({value:e.target.value,scale:"coin"},(function(){a.triggerControlChange()}))})),ir(lr(a),"toCoin",(function(e){return e/a.props.unitPrice})),ir(lr(a),"toPrice",(function(e){return e*a.props.unitPrice})),a.state={value:e.value,scale:"price"},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cr(e,t)}(t,e),a=t,(r=[{key:"triggerControlChange",value:function(){var e=this.props.onChange;if("function"==typeof e){var t=this.state,a=t.value,r=t.scale;if("coin"===r){var n=this.convert(a,this.toPrice,2);e(parseFloat(n))}else"price"===r&&e(parseFloat(a))}}},{key:"render",value:function(){var e=this.props,t=e.coinSymbol,a=e.currency,r=e.precision,o=this.state,l=o.value,c=o.scale,i="coin"===c?this.convert(l,this.toPrice,2):l,s="price"===c?this.convert(l,this.toCoin,r):l;return n.a.createElement("div",null,n.a.createElement(ct.a.Group,null,n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{xs:12,style:{marginBottom:"0"}},n.a.createElement(ct.a,{addonAfter:t,onChange:this.handleCoinChange,value:s})),n.a.createElement(p.a,{xs:12,style:{marginBottom:"0"}},n.a.createElement(ct.a,{addonAfter:a,onChange:this.handlePriceChange,value:i})))))}}])&&nr(a.prototype,r),o&&nr(a,o),t}(r.Component);ur.protoType={coinSymbol:tr.a.string.isRequired,currency:tr.a.string.isRequired,unitPrice:tr.a.number.isRequired,precision:tr.a.number.isRequired};var sr=ur;function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e){return(mr="function"==typeof Symbol&&"symbol"===fr(Symbol.iterator)?function(e){return fr(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":fr(e)})(e)}function pr(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _r=Object(v.c)({successful:{id:"offer.start_trade_action_successful",defaultMessage:"Trade started successfully!"},pageTitle:{id:"meta.title.marketplace_offer",defaultMessage:"{title} | {name}"}}),gr=function(e){function t(e){var a,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=yr(t).call(this,e),a=!n||"object"!==mr(n)&&"function"!=typeof n?dr(r):n,hr(dr(a),"goToChat",(function(e){var t=a.props.history,r=Object(c.g)(j.a["chat.view"].path,{token:e});if(!se()(t))return t.push(r)})),hr(dr(a),"handleSubmit",(function(e){e.preventDefault();var t=a.api,r=t.axios,n=t.route,o=a.state,l=o.loading,c=o.offer,i=a.props,u=i.form,s=i.intl;if(!l&&a.canStartTrade()){var f=n("marketplace.offer.start-trade",{offer:c.slug});u.validateFields((function(e,t){se()(e)&&(r.post(f.url(),t).then((function(e){return Object(de.c)(e,u,(function(e){a.setState({confirmLoading:!1}),a.goToChat(e.chat_id)}),s.formatMessage(_r.successful))})).catch((function(e){return Object(de.b)(e,u,t,(function(){a.setState({confirmLoading:!1})}))})),a.setState({confirmLoading:!0}))}))}})),hr(dr(a),"fetchOffer",(function(){var e=a.api,t=e.axios,r=e.route,n=a.props.match;a.setState({loading:!0});var o=r("marketplace.offer.get",{offer:n.params.slug}).url();t.get(o).then((function(e){return Object(de.d)(e,(function(e){a.setState({offer:e,loading:!1})}))})).catch((function(e){return Object(de.a)(e,(function(){a.setState({offer:{},loading:!1})}))}))})),hr(dr(a),"getSharableLink",(function(){if("undefined"!=typeof window)return window.location.href})),a.api=new S.a,a.state={offer:{},confirmLoading:!1,loading:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.fetchOffer()}},{key:"shouldVerifyEmail",value:function(){var e=this.state.offer,t=this.props.auth;return e.require_email_verification&&!t.verifiedEmail()}},{key:"shouldVerifyPhone",value:function(){var e=this.state.offer,t=this.props.auth;return e.require_phone_verification&&!t.verifiedPhone()}},{key:"canStartTrade",value:function(){var e=this.props.auth,t=this.state.offer;return t.visibility&&e.check()&&e.user.id!==t.user.id&&!this.shouldVerifyEmail()&&!this.shouldVerifyPhone()}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.props.match.params,n=e.match.params;r.slug!==n.slug&&(this.fetchOffer(),console.log("Updated Offer Component"))}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getPageTitle",value:function(){var e=this.props.intl,t=this.state.offer;return e.formatMessage(_r.pageTitle,{name:N.a.name,title:t.title})}},{key:"render",value:function(){var e=this.props.auth,t=this.props.form.getFieldDecorator,a=this.state,r=a.loading,o=a.offer,l=a.confirmLoading,c=this.getSharableLink();return se()(o)?r?n.a.createElement(Ga.a,null):n.a.createElement(Ha.a,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(T.Helmet,null,n.a.createElement("title",null,this.getPageTitle())),n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{xl:16,lg:14,md:14},n.a.createElement(E.a,null,n.a.createElement("h2",{className:"text-uppercase"},"sell"===o.type&&n.a.createElement(v.a,{defaultMessage:"How much do you want to buy?",id:"offer.how_much_buy"}),"buy"===o.type&&n.a.createElement(v.a,{defaultMessage:"How much do you want to sell?",id:"offer.how_much_sell"})),n.a.createElement(H.a,{className:"mt-3",onSubmit:this.handleSubmit},n.a.createElement(H.a.Item,{labelAlign:"left",label:n.a.createElement(v.a,{defaultMessage:"Enter Amount",id:"offer.enter_amount"})},t("amount",{rules:[{type:"number",required:!0,min:o.min_amount,max:o.real_max_amount}]})(n.a.createElement(sr,{currency:o.currency,precision:o.coin_precision,coinSymbol:o.coin_symbol,unitPrice:o.rate}))),o.visibility?!this.canStartTrade()&&n.a.createElement("div",{className:"my-2"},n.a.createElement(we.a,{message:n.a.createElement(v.a,{defaultMessage:"Unable to Start Trade",id:"offer.unable_to_start_trade"}),description:n.a.createElement("ol",{className:"mt-1 pl-3 mb-0"},e.check()?n.a.createElement(n.a.Fragment,null,e.user.id===o.user.id?n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"You cannot start a trade with yourself!",id:"offer.cannot_start_trade_with_self_desc"})):n.a.createElement(n.a.Fragment,null,this.shouldVerifyPhone()&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"{phone} verification is required by the owner",id:"offer.phone_verification_required_desc",values:{phone:n.a.createElement("b",null,n.a.createElement(v.a,{defaultMessage:"Phone",id:"common.phone"}))}})),this.shouldVerifyEmail()&&n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"{email} verification is required by the owner",id:"offer.email_verification_required_desc",values:{email:n.a.createElement("b",null,n.a.createElement(v.a,{defaultMessage:"Email",id:"common.email"}))}})))):n.a.createElement("li",null,n.a.createElement(v.a,{id:"offer.authentication_required_desc",defaultMessage:"You need to {register} or {login} to continue with the trade.",values:{register:n.a.createElement("b",null,n.a.createElement(v.a,{defaultMessage:"Register",id:"common.register"})),login:n.a.createElement("b",null,n.a.createElement(v.a,{defaultMessage:"Login",id:"common.login"}))}}))),type:"warning",showIcon:!0})):n.a.createElement(we.a,{className:"mb-1",type:"warning",message:n.a.createElement(v.a,{id:"offer.unavailable_info",defaultMessage:"This offer is {unavailable}. This can be because the owner has disable the offer, cannot currently interact with the platform, or they do not have enough balance to fulfill the offer.",values:{unavailable:n.a.createElement("span",{className:"text-uppercase font-weight-bold"},n.a.createElement(v.a,{defaultMessage:"Unavailable",id:"common.unavailable"}))}}),showIcon:!0}),n.a.createElement(H.a.Item,null,n.a.createElement(g.a,{type:"primary",size:"large",loading:l,icon:"lock",disabled:!this.canStartTrade(),htmlType:"submit",block:!0},n.a.createElement("span",{className:"text-uppercase"},"sell"===o.type&&n.a.createElement(v.a,{defaultMessage:"Buy Now!",id:"offer.buy_now"}),"buy"===o.type&&n.a.createElement(v.a,{defaultMessage:"Sell Now!",id:"offer.sell_now"})))),n.a.createElement(u.a,{gutter:8},n.a.createElement(p.a,{sm:12,className:"my-2"},n.a.createElement(we.a,{type:"info",message:n.a.createElement("div",null,n.a.createElement("div",{className:"font-weight-medium"},n.a.createElement(v.a,{defaultMessage:"Offer Information",id:"offer.offer_information"})),n.a.createElement("ol",{className:"mt-1 pl-3 mb-0"},n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"Your amount should be between {minimum} and {maximum}!",id:"offer.amount_range_information",values:{maximum:n.a.createElement("b",null,o.formatted_real_max_amount),minimum:n.a.createElement("b",null,o.formatted_min_amount)}})),n.a.createElement("li",null,n.a.createElement(v.a,{defaultMessage:"Rate per {coin_name} is {price}. You can buy any fraction",id:"offer.rate_information",values:{coin_name:n.a.createElement("b",null,o.coin_name),price:n.a.createElement("b",null,o.formatted_rate)}}))))})),n.a.createElement(p.a,{sm:12,className:"my-2"},n.a.createElement(we.a,{type:"warning",message:n.a.createElement("div",null,n.a.createElement("div",{className:"font-weight-medium"},n.a.createElement(v.a,{defaultMessage:"Payment Verification",id:"offer.payment_verification_warning"})),n.a.createElement("div",{className:"mt-1"},n.a.createElement(v.a,{defaultMessage:"The buyer of this trade has a time limit of {deadline} to pay for the trade before the trade is cancelled by the system. Trade will not auto-cancel when buyer has marked trade as paid, after which buyer has to wait for seller to release coin.",id:"offer.confirmation_time_information",values:{deadline:n.a.createElement("b",null,o.confirmation_time_frame," minutes")}})))})))),n.a.createElement(ot.a,null,n.a.createElement(v.a,{defaultMessage:"Owner Terms",id:"offer.owner_terms"})),n.a.createElement("p",{style:{whiteSpace:"pre-line"},className:"font-italic cp-fs-lg"},o.terms))),n.a.createElement(p.a,{xl:8,lg:10,md:10},n.a.createElement(E.a,{actions:c&&[n.a.createElement("a",{href:"//twitter.com/intent/tweet?url=".concat(c)},n.a.createElement("i",{className:"lab la-twitter cp-fs-2x"})),n.a.createElement("a",{href:"//reddit.com/submit?url=".concat(c)},n.a.createElement("i",{className:"lab la-reddit cp-fs-2x"})),n.a.createElement("a",{href:"//www.facebook.com/sharer.php?u=".concat(c)},n.a.createElement("i",{className:"lab la-facebook cp-fs-2x"}))]},n.a.createElement("div",{className:"text-center mb-3"},n.a.createElement(Xa.a,{user:o.user,className:"cp-fs-3x",size:150})),n.a.createElement("h2",{className:"mt-2 mb-1 cp-fs-xxl font-weight-light text-center"},n.a.createElement("span",{className:"mr-2"},n.a.createElement(k.a,{to:"/profile/".concat(o.user.name)},o.user.name)),o.user.location&&n.a.createElement(Fe.a,{code:o.user.location.iso_code})),n.a.createElement("div",{className:"cp-fs-lg text-center"},n.a.createElement(Wa.a,{value:o.user.average_marketplace_rating,disabled:!0}),n.a.createElement("span",{className:"ml-2"},"(",Object(Za.a)(o.user.total_marketplace_rating),")")),o.user.last_seen_at&&n.a.createElement("div",{className:"mt-2 align-items-center d-flex justify-content-center"},n.a.createElement("i",{className:"la la-clock cp-fs-xl"}),n.a.createElement("span",{className:"ml-2"},Object(P.g)(o.user.last_seen_at)))),n.a.createElement(Ja.a,{user:o.user}))))}}])&&pr(a.prototype,r),o&&pr(a,o),t}(r.Component),Er=Object(P.c)(Object(pe.b)((function(e){var t=e.auth;return{auth:new Ee.a(t)}})),Object(ye.a)())(gr);t.default=function(e){var t=e.match.path;return n.a.createElement(c.e,null,n.a.createElement(o.a,{from:"".concat(t,"/"),to:"".concat(t,"/buy_coin"),exact:!0,status:301}),n.a.createElement(c.b,{path:"".concat(t,"/offer/:slug"),component:Er}),n.a.createElement(c.b,{path:"".concat(t,"/buy_coin"),component:Y}),n.a.createElement(l.a,{path:"".concat(t,"/create_offer"),component:Aa}),n.a.createElement(c.b,{path:"".concat(t,"/sell_coin"),component:za}),n.a.createElement(c.b,{component:Ha.a}))}},HDGS:function(e,t,a){"use strict";var r=a("N9UN"),n=a.n(r),o=a("q1tI"),l=a.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=function(e){var t=e.styleName,a=i(e,["styleName"]);return l.a.createElement(n.a,c({bordered:!1,className:"cp-card-widget ".concat(t)},a))};u.defaultProps={styleName:""},t.a=u},Ikkh:function(e,t,a){"use strict";var r=a("j7zX"),n=a.n(r),o=a("3OWR"),l=a.n(o),c=a("q1tI"),i=a.n(c),u=a("BflS"),s=a("/MKj"),f=a("iNPk"),m=a("EC67");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return(y="function"==typeof Symbol&&"symbol"===p(Symbol.iterator)?function(e){return p(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":p(e)})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function b(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(){var e,a,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return r=this,n=(e=h(t)).call.apply(e,[this].concat(l)),a=!n||"object"!==y(n)&&"function"!=typeof n?_(r):n,function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(_(a),"onTabChange",(function(e){"undefined"!=typeof sessionStorage&&sessionStorage.setItem(a.getStorageKey(),e)})),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),a=t,(r=[{key:"getStorageKey",value:function(){return"page.tab(".concat(this.props.location.pathname,")")}},{key:"getTabPosition",value:function(){var e=this.props.windowSize.width;return e&&e<u.l?"top":"left"}},{key:"getDefaultActiveKey",value:function(){var e=void 0;return"undefined"!=typeof sessionStorage&&(e=sessionStorage.getItem(this.getStorageKey())||void 0),e}},{key:"render",value:function(){var e=this.getDefaultActiveKey(),t={};return e&&(t=l()(t,{defaultActiveKey:e})),i.a.createElement(n.a,d({onChange:this.onTabChange,tabPosition:this.getTabPosition()},t,this.props))}}])&&b(a.prototype,r),o&&b(a,o),t}(c.Component);t.a=Object(f.c)(Object(s.b)((function(e){return{windowSize:e.settings.windowSize}})),m.i)(E)},T0ja:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),o=a("amnm"),l=a("gCZO"),c=a("55Ip"),i=a("mLH4"),u=a("wUfQ");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}function m(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,y(t).apply(this,arguments))}var a,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props,t=e.user;return e.showRatingsCount,n.a.createElement("div",{style:{whiteSpace:"nowrap"},className:"cp-user-cell d-flex align-items-center"},n.a.createElement(o.a,{user:t}),n.a.createElement("div",{className:"ml-2"},n.a.createElement("div",{className:"d-flex"},n.a.createElement("div",{className:"text-truncate d-inline-block mr-2"},n.a.createElement(c.a,{to:"/profile/".concat(t.name)},t.name)),t.location&&n.a.createElement(i.a,{code:t.location.iso_code})),n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement(l.a,{value:t.average_marketplace_rating}),n.a.createElement("span",{className:"ml-2 mt-1"},"(",Object(u.a)(t.total_marketplace_rating),")"))))}}])&&m(a.prototype,r),s&&m(a,s),t}(r.Component);t.a=b},eLk5:function(e,t,a){"use strict";var r=a("DtFj"),n=a.n(r),o=a("3OWR"),l=a.n(o),c=a("wEy/"),i=a.n(c),u=a("UfWW"),s=a.n(u),f=a("q1tI"),m=a.n(f),p=a("Falu"),y=a("mP/V");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return(b="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){k(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j=function(e){function t(e){var a,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=O(t).call(this,e),a=!n||"object"!==b(n)&&"function"!=typeof n?S(r):n,k(S(a),"handleTableChange",(function(e,t){a.setState((function(a){return{pagination:v({},a.pagination,{current:e.current}),filters:v({},a.filters,{},t)}}),(function(){a.fetchData()}))}));var o=e.route,l=e.pagination,c=e.filters;return a.api=new p.a,a.pagination=new y.a(a.api,o),a.state={data:[],pagination:l||{},filters:c||{},loading:!1},a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),a=t,(r=[{key:"updateItem",value:function(e,t){var a=this.props.rowKey||"id";t="function"!=typeof t?function(t){return t[a]===e[a]}:t;var r=g(this.state.data),n=s()(r,t);n>=0&&(r[n]=e),this.setState({data:r})}},{key:"removeItem",value:function(e,t){var a=this.props.rowKey||"id";t="function"!=typeof t?function(t){return t[a]===e[a]}:t;var r=g(this.state.data),n=s()(r,t);n>=0&&i()(r,(function(e,t){return t===n})),this.setState({data:r})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"applyFilter",value:function(e){var t=this;this.setState((function(t){var a=t.pagination,r=t.filters;return{pagination:l()(a,{current:1}),filters:l()(r,e)}}),(function(){t.fetchData()}))}},{key:"clearFilter",value:function(){var e=this;this.setState((function(e){var t=e.pagination;return{filters:{},pagination:l()(t,{current:1})}}),(function(){e.fetchData()}))}},{key:"fetchData",value:function(){var e=this,t=this.state,a=t.pagination,r=t.filters;this.pagination.fetchData(a,r,(function(t){e.setState((function(e){return{pagination:v({},e.pagination,{total:void 0!==t.total?t.total:t.meta.total}),data:t.data,loading:!1}}))}),(function(){e.setState({loading:!1})})),this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"render",value:function(){var e=this.props,t=(e.route,e.pagination,e.filters,_(e,["route","pagination","filters"])),a=this.state,r=a.loading,o=a.data;return m.a.createElement(n.a,h({size:"middle",rowKey:"id"},t,{pagination:this.state.pagination,onChange:this.handleTableChange,dataSource:o,loading:r}))}}])&&w(a.prototype,r),o&&w(a,o),t}(f.Component);t.a=j},gCZO:function(e,t,a){"use strict";var r=a("fTA7"),n=a.n(r),o=a("Pbn2"),l=a.n(o),c=a("q1tI"),i=a.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function m(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,y(t).apply(this,arguments))}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){return i.a.createElement(n.a,f({disabled:!0,character:i.a.createElement(l.a,{type:"star",style:{fontSize:"15px"},theme:"filled"}),allowHalf:!0},this.props))}}])&&m(a.prototype,r),o&&m(a,o),t}(c.Component);t.a=b},mLH4:function(e,t,a){"use strict";var r=a("aAZC"),n=a.n(r),o=a("q1tI"),l=a.n(o);t.a=function(e){var t=e.code;return l.a.createElement("span",{className:"flag-icon mr-2 flag-icon-".concat(n()(t))})}},odIg:function(e,t,a){"use strict";var r=a("MM9K"),n=a.n(r),o=a("IztG"),l=a.n(o),c=a("hqwM"),i=a.n(c),u=a("E+oP"),s=a.n(u),f=a("q1tI"),m=a.n(f),p=a("7++0"),y=a("HDGS"),d=a("Falu"),b=a("mP/V"),h=a("iNPk"),_=a("55Ip"),g=a("mLH4"),E=a("amnm"),v=a("gCZO");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return(O="function"==typeof Symbol&&"symbol"===w(Symbol.iterator)?function(e){return w(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":w(e)})(e)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){k(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function j(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=P(this,x(t).call(this,e))).api=new d.a,a.state={data:[],loading:!1,hasMore:!1,params:{pageSize:10}};var r=a.api.route("user.marketplace-ratings",{name:e.user.name}).url();return a.pagination=new b.a(a.api,r),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),a=t,(r=[{key:"componentDidMount",value:function(){this.fetchUserRatings()}},{key:"fetchUserRatings",value:function(){var e=this;this.setState({loading:!0});var t=M({},this.state.params,{current:1});this.pagination.fetchData(t,{},(function(a){e.setState({data:a.data,loading:!1,hasMore:Boolean(a.links.next),params:M({},t,{total:a.meta.total})})}),(function(){e.setState({loading:!1})}))}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.props.user,n=e.user;r.id!==n.id&&this.fetchUserRatings()}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.loading;return m.a.createElement(y.a,{styleName:"cp-card-reviews",title:m.a.createElement(p.a,{defaultMessage:"Latest Marketplace Reviews",id:"common.latest_marketplace_reviews"})},m.a.createElement(n.a,{spinning:a},m.a.createElement("div",{className:"cp-profile-reviews-scroll","data-simplebar":!0},m.a.createElement(i.a,{itemLayout:"vertical",dataSource:t,renderItem:function(e){var t=e.rater;return s()(t)?m.a.createElement(i.a.Item,null):m.a.createElement(i.a.Item,null,m.a.createElement(l.a,{content:Object(h.f)(e.comment,200),avatar:m.a.createElement(E.a,{user:t}),datetime:m.a.createElement("span",null,Object(h.b)(e.created_at,"MMMM Do YYYY")),actions:[m.a.createElement(v.a,{value:e.rating})],author:m.a.createElement("div",{className:"d-flex"},m.a.createElement("span",{className:"mr-2"},m.a.createElement(_.a,{to:"/profile/".concat(t.name)},t.name)),t.location&&m.a.createElement(g.a,{code:t.location.iso_code}))}))}}))))}}])&&j(a.prototype,r),o&&j(a,o),t}(f.Component);t.a=T},qiO9:function(e,t,a){"use strict";var r=a("4IMT"),n=a.n(r),o=a("5Dct"),l=a.n(o),c=a("FErh"),i=a.n(c),u=a("7GkX"),s=a.n(u),f=a("qu0K"),m=a.n(f),p=a("bt/X"),y=a.n(p),d=a("P/G1"),b=a.n(d),h=a("E+oP"),_=a.n(h),g=a("FAat"),E=a.n(g),v=a("q1tI"),w=a.n(v),O=a("7++0"),S=a("iNPk"),M=a("4ztd"),k=a("/MKj");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e){return(P="function"==typeof Symbol&&"symbol"===j(Symbol.iterator)?function(e){return j(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":j(e)})(e)}function x(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var A=E.a.Option,I=E.a.OptGroup,q=Object(O.c)({country:{id:"filter_result.select_country_placeholder",defaultMessage:"Select country..."},coin:{id:"filter_result.select_coin_placeholder",defaultMessage:"Select coin..."},currency:{id:"filter_result.select_currency_placeholder",defaultMessage:"Select currency..."},paymentMethod:{id:"filter_result.select_payment_method_placeholder",defaultMessage:"Select payment method..."},tags:{id:"filter_result.select_tags_placeholder",defaultMessage:"Filter by tags..."},amount:{id:"filter_result.input_amount_placeholder",defaultMessage:"Filter by amount..."}}),R=function(e){function t(){var e,a,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return r=this,n=(e=N(t)).call.apply(e,[this].concat(l)),a=!n||"object"!==P(n)&&"function"!=typeof n?T(r):n,C(T(a),"applyFilter",(function(){var e=a.props,t=e.onApplyFilter;e.form.validateFields((function(e,a){if("function"==typeof t&&_()(e))return t(a)}))})),C(T(a),"clearFilter",(function(){var e=a.props,t=e.onClearFilter;if(e.form.resetFields(),"function"==typeof t)return t()})),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldsValue,r=this.props,o=r.intl,c=r.currencies,u=r.countries,f=r.wallets,p=r.paymentMethods,d=r.marketplaceTags,h=b()(a()).some((function(e){return e})),_=y()(p,(function(e){return e.category.name}));return w.a.createElement(m.a,{className:"p-1"},w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Coin",id:"marketplace.filter_by_coin"})},t("coin_identifier")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(q.coin),showSearch:!0,style:{width:"100%"}},f.map((function(e){return w.a.createElement(A,{key:e.coin.id,value:e.coin.identifier},e.coin.name)}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Currency",id:"marketplace.filter_by_currency"})},t("currency")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(q.currency),showSearch:!0,style:{width:"100%"}},s()(c).map((function(e){return w.a.createElement(A,{key:e,value:i()(e)},c[e].name," (",c[e].code,")")}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Country",id:"marketplace.filter_by_country"})},t("country")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(q.country),showSearch:!0,style:{width:"100%"}},s()(u).map((function(e){return w.a.createElement(A,{key:e,value:i()(e)},u[e])}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Payment Method",id:"marketplace.filter_by_payment_method"})},t("payment_method_id")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(q.paymentMethod),showSearch:!0,style:{width:"100%"}},s()(_).map((function(e,t){return w.a.createElement(I,{key:t,label:e},_[e].map((function(e){return w.a.createElement(A,{key:e.id,value:e.id},e.name)})))}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"By Tags",id:"marketplace.filter_by_tags"})},t("tags")(w.a.createElement(E.a,{optionFilterProp:"children",placeholder:o.formatMessage(q.tags),showSearch:!0,mode:"tags",style:{width:"100%"}},d.map((function(e){return w.a.createElement(A,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(m.a.Item,{className:"mb-3",label:w.a.createElement(O.a,{defaultMessage:"Amount",id:"marketplace.filter_amount"})},t("amount")(w.a.createElement(l.a,{style:{width:"100%"},placeholder:o.formatMessage(q.amount),min:1,step:1}))),w.a.createElement(m.a.Item,{className:"mt-3 mb-0"},w.a.createElement(n.a,{type:"primary",onClick:this.applyFilter,block:!0},w.a.createElement(O.a,{defaultMessage:"Apply Filter",id:"filter_result.apply_filter"}))),h&&w.a.createElement(m.a.Item,{className:"mt-0"},w.a.createElement(n.a,{type:"default",onClick:this.clearFilter,block:!0},w.a.createElement(O.a,{defaultMessage:"Clear Filter",id:"filter_result.clear_filter"}))))}}])&&x(a.prototype,r),o&&x(a,o),t}(v.Component);t.a=Object(S.c)(Object(k.b)((function(e){var t=e.settings.layoutType,a=e.collections,r=a.currencies,n=a.marketplaceTags,o=a.wallets,l=a.paymentMethods;return{layoutType:t,marketplaceTags:n,wallets:o,countries:a.countries,paymentMethods:l,currencies:r}})),Object(M.a)())(R)},wUfQ:function(e,t,a){"use strict";var r=a("o0o1"),n=a.n(r);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i={base:1e3,precision:2,decimalSeparator:".",lowerCase:!1,space:!1,units:["","K","M","B","T","P","E"]},u=function(e){var t=parseFloat(e);if(Number.isNaN(t))throw new Error("Value must be a valid number");if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw new RangeError("Value is either too big or too small");return t},s=n.a.mark((function e(t,a){var r,o,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a,o=0;case 2:if(!((l=t/r)<1)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,{result:l,count:++o};case 8:r*=a,e.next=2;break;case 11:case"end":return e.stop()}}),e)})),f=function(e,t){if(!Number.isFinite(e))throw new Error("Value must be a finite number");if(!Number.isInteger(t)||t<0)throw new Error("Precision must be a non-negative integer");return Number.isInteger(e)?e:parseFloat(e.toFixed(t))};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=l({},i,{},t);if(!Array.isArray(a.units)||!a.units.length)throw new Error("Units must be an array");var r=u(e),n=r<0?"-":"";r=Math.abs(r);var o=0,c=!0,m=!1,p=void 0;try{for(var y,d=s(r,a.base)[Symbol.iterator]();!(c=(y=d.next()).done);c=!0){var b=y.value;r=b.result,o=b.count}}catch(e){m=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(m)throw p}}o=o>a.units.length?a.units.length-1:o;var h=a.lowerCase?a.units[o].toLowerCase():a.units[o],_=a.space?" ":"",g=f(r,a.precision),E=g.toString().replace(".",a.decimalSeparator);return"".concat(n).concat(E).concat(_).concat(h)}}};