exports.ids=[14],exports.modules={HDGS:function(e,t,n){"use strict";var r=n("N9UN"),a=n.n(r),o=n("q1tI"),c=n.n(o);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=function(e){var t=e.styleName,n=l(e,["styleName"]);return c.a.createElement(a.a,i({bordered:!1,className:"cp-card-widget ".concat(t)},n))};u.defaultProps={styleName:""},t.a=u},S4Nf:function(e,t,n){"use strict";n.r(t);var r=n("ZPTe"),a=n.n(r),o=n("9xET"),c=n.n(o),i=n("q1tI"),l=n.n(i),u=n("MM9K"),s=n.n(u),f=n("4IMT"),p=n.n(f),m=n("hw8t"),d=n.n(m),y=n("Pbn2"),b=n.n(y),h=n("a9jo"),g=n.n(h),v=n("3WF5"),w=n.n(v),E=(n("wDdD"),n("vVgw")),O=n("iNPk"),S=n("/MKj"),j=n("7++0"),_=n("HDGS"),P=n("QprK"),x=n.n(P),k=n("DcAZ"),M=n.n(k),A=n("wUfQ"),C=function(e){var t=Math.PI/180,n=e.cx,r=e.cy,a=e.midAngle,o=e.innerRadius,c=e.outerRadius,i=e.startAngle,u=e.endAngle,s=e.fill,f=e.payload,p=e.percent,m=e.value,d=Math.sin(-t*a),y=Math.cos(-t*a),b=n+(c+10)*y,h=r+(c+10)*d,g=n+(c+30)*y,v=r+(c+30)*d,w=g+22*(y>=0?1:-1),E=v,O=y>=0?"start":"end";return l.a.createElement("g",null,l.a.createElement("text",{x:n,y:r,dy:8,textAnchor:"middle",fill:s},f.name),l.a.createElement(M.a,{cx:n,cy:r,innerRadius:o,outerRadius:c,endAngle:u,startAngle:i,fill:s}),l.a.createElement(M.a,{cx:n,cy:r,startAngle:i,endAngle:u,innerRadius:c+6,outerRadius:c+10,fill:s}),l.a.createElement("path",{d:"M".concat(b,",").concat(h,"L").concat(g,",").concat(v,"L").concat(w,",").concat(E),stroke:s,fill:"none"}),l.a.createElement("circle",{cx:w,cy:E,r:2,fill:s,stroke:"none"}),l.a.createElement("text",{x:w+12*(y>=0?1:-1),y:E,textAnchor:O,fill:"#333"},"".concat(Object(A.a)(m))),l.a.createElement("text",{x:w+12*(y>=0?1:-1),y:E,dy:18,textAnchor:O,fill:"#999"},"".concat((100*p).toFixed(2),"%")))},N=n("FehL"),T=n.n(N),I=n("wrKF"),D=n.n(I),F=n("mGSp"),R=n.n(F);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e){return(W="function"==typeof Symbol&&"symbol"===L(Symbol.iterator)?function(e){return L(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":L(e)})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=x.a.settings.colorPalettes,G=function(e){function t(e){var n,r,a,o,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=B(t).call(this,e),n=!a||"object"!==W(a)&&"function"!=typeof a?q(r):a,o=q(n),i=function(e,t){n.setState({activeIndex:t})},(c="onPieEnter")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n.state={activeIndex:0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,e),n=t,(r=[{key:"getData",value:function(){var e=this.props.accounts;return w()(e,(function(e){return{value:e.available_price,name:e.wallet.coin.name}}))}},{key:"render",value:function(){var e=this.state.activeIndex,t=this.getData(),n=g()(t,"value");return l.a.createElement(_.a,{title:l.a.createElement(j.a,{defaultMessage:"Wallet Distribution",id:"wallet.distribution"})},l.a.createElement("div",{className:"text-center text-lg-left"},n>0?l.a.createElement(T.a,{height:200},l.a.createElement(D.a,null,l.a.createElement(R.a,{dataKey:"value",fill:V["@primary-color"],activeIndex:e,activeShape:C,innerRadius:"50%",outerRadius:"70%",onMouseEnter:this.onPieEnter,data:t}))):l.a.createElement(d.a,{icon:l.a.createElement(b.a,{type:"frown",twoToneColor:V["@primary-color"],theme:"twoTone"}),extra:l.a.createElement("span",{className:"text-muted"},l.a.createElement(j.a,{defaultMessage:"You have no wallet balance.",id:"wallet.no_wallet_balance"})),status:"info"})))}}])&&U(n.prototype,r),a&&U(n,a),t}(i.Component),z=Object(O.c)(j.d,Object(S.b)((function(e){var t=e.wallet.accounts,n=e.auth;return{accounts:t,auth:new E.a(n)}})))(G),Y=n("DRDh"),H=n("Falu"),Q=n("fVSG");function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e){return(J="function"==typeof Symbol&&"symbol"===Z(Symbol.iterator)?function(e){return Z(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Z(e)})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(e){var n,r,a,o,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=$(t).call(this,e),n=!a||"object"!==J(a)&&"function"!=typeof a?ee(r):a,o=ee(n),i=function(e){e.transferRecord&&e.transferRecord.confirmed&&n.fetchBalance()},(c="transferRecordSavedListener")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n.broadcast=new Y.a,n.api=new H.a,n.state={availablePrice:0,formattedAvailablePrice:"0",loading:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.bindBroadcastEvents(),this.fetchBalance()}},{key:"bindBroadcastEvents",value:function(){this.resetBroadcastChannel(),this.broadcast.listen("TransferRecordSaved",this.transferRecordSavedListener)}},{key:"componentWillUnmount",value:function(){this.api.cancel(),this.broadcast.unbind()}},{key:"resetBroadcastChannel",value:function(){var e=this.props.auth;e.check()?this.broadcast.setChannel("Auth.User."+e.user.id):this.broadcast.unbind()}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.auth.user;e.auth.user.id!==r.id&&(console.log("Updated Balance Component"),this.resetBroadcastChannel())}},{key:"fetchBalance",value:function(){var e=this,t=this.api,n=t.axios,r=(0,t.route)("user.wallet-account.total-available-price");n.post(r.url()).then((function(t){return Object(Q.d)(t,(function(t){e.setState({availablePrice:t.price,formattedAvailablePrice:t.formattedPrice,loading:!1})}))})).catch((function(t){return Object(Q.a)(t,(function(){e.setState({loading:!1})}))})),this.setState({loading:!0})}},{key:"render",value:function(){return l.a.createElement(s.a,{spinning:this.state.loading},l.a.createElement("div",{className:"my-2 my-lg-3"},l.a.createElement("div",{className:"mr-2 cp-fs-3x font-weight-medium d-inline-block"},l.a.createElement("span",null," ",this.state.formattedAvailablePrice," "))))}}])&&X(n.prototype,r),a&&X(n,a),t}(i.Component),re=Object(O.c)(Object(S.b)((function(e){var t=e.auth;return{auth:new E.a(t)}})))(ne),ae=n("N9UN"),oe=n.n(ae),ce=function(e){var t=e.styleName,n=e.coin,r=e.price,a=e.priceColor;return l.a.createElement(oe.a,{className:"".concat(t," cp-card-price d-inline-block")},l.a.createElement("h5",{className:"text-muted"},l.a.createElement(j.a,{defaultMessage:"{coin} Price",id:"wallet.coin_price",values:{coin:n}})),l.a.createElement("div",{className:"cp-fs-2x font-weight-medium"},l.a.createElement("span",{style:{color:a}},r)))};function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e){return(le="function"==typeof Symbol&&"symbol"===ie(Symbol.iterator)?function(e){return ie(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ie(e)})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=se(t).call(this,e),n=!a||"object"!==le(a)&&"function"!=typeof a?fe(r):a,me(fe(n),"onMouseOver",(function(){n.setState({scroll:!1})})),me(fe(n),"onMouseOut",(function(){n.setState({scroll:!0})})),n.state={scroll:!0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.accounts;return l.a.createElement("div",{className:"marquee my-3",onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},l.a.createElement("div",{className:"".concat(this.state.scroll?"":"pause")},e.map((function(e){return l.a.createElement(ce,{coin:e.wallet.coin.name,key:e.id,styleName:"mx-1",price:e.formatted_price,priceColor:e.wallet.coin.color})}))))}}])&&ue(n.prototype,r),a&&ue(n,a),t}(i.Component),ye=Object(O.c)(Object(S.b)((function(e){var t=e.wallet.accounts,n=e.auth;return{accounts:t,auth:new E.a(n)}})))(de),be=n("3Ub6"),he=n("EC67"),ge=n("55Ip"),ve=n("VWBV");function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"===we(Symbol.iterator)?function(e){return we(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":we(e)})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe=function(e){function t(){var e,n,r,a,o,c,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return r=this,a=(e=Se(t)).call.apply(e,[this].concat(u)),n=!a||"object"!==Ee(a)&&"function"!=typeof a?je(r):a,o=je(n),i=function(){n.props.showNewAccountForm()},(c="showNewAccountForm")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.accountsLoading,t=Object(he.g)(ve.a["marketplace.sell_coin"].path),n=Object(he.g)(ve.a["marketplace.buy_coin"].path);return l.a.createElement(l.a.Fragment,null,l.a.createElement(a.a,{sm:12,xs:24},l.a.createElement("h2",{className:"h4 text-sm-left text-center"},l.a.createElement(j.a,{defaultMessage:"Your Wallet Balance",id:"wallet.your_balance"})),l.a.createElement("div",{className:"text-center"},l.a.createElement(re,null),l.a.createElement("div",{className:"text-sm-left mb-3 mt-2 mb-md-2"},l.a.createElement(ge.a,{to:n},l.a.createElement(p.a,{className:"mr-2 cp-btn-success",type:"default"},l.a.createElement("i",{className:"la la-sign-in-alt"}),l.a.createElement("span",{className:"ml-1"},l.a.createElement(j.a,{defaultMessage:"Buy",id:"common.buy"})))),l.a.createElement(ge.a,{to:t},l.a.createElement(p.a,{className:"mr-2",type:"danger"},l.a.createElement("i",{className:"la la-sign-out-alt"}),l.a.createElement("span",{className:"ml-1"},l.a.createElement(j.a,{defaultMessage:"Sell",id:"common.sell"})))))),l.a.createElement(ye,null),l.a.createElement("p",{className:"cp-text-primary cp-pointer"},l.a.createElement(p.a,{className:"mr-2",type:"default",onClick:this.showNewAccountForm},l.a.createElement("i",{className:"la la-plus-circle"}),l.a.createElement("span",{className:"ml-1"},l.a.createElement(j.a,{defaultMessage:"Add Account",id:"wallet.add_account"}))))),l.a.createElement(a.a,{sm:12,xs:24},l.a.createElement(s.a,{spinning:e},l.a.createElement(z,null))))}}])&&Oe(n.prototype,r),o&&Oe(n,o),t}(i.Component),xe=Object(O.c)(Object(S.b)((function(e){var t=e.wallet;return{accountsLoading:t.accountsLoading,showNewAccountModal:t.showNewAccountModal,accounts:t.accounts}}),{showNewAccountForm:be.o,hideNewAccountForm:be.l}))(Pe),ke=n("CC+v"),Me=n.n(ke),Ae=n("qu0K"),Ce=n.n(Ae),Ne=n("FAat"),Te=n.n(Ne),Ie=n("E+oP"),De=n.n(Ie),Fe=n("4ztd");function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e){return(Le="function"==typeof Symbol&&"symbol"===Re(Symbol.iterator)?function(e){return Re(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Re(e)})(e)}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=Object(j.c)({wallet:{id:"wallet.wallet_select_placeholder",defaultMessage:"Select a wallet..."},successful:{id:"wallet.added_account_successfully",defaultMessage:"Your account has been added successfully."}}),Ge=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Ue(t).call(this,e),n=!a||"object"!==Le(a)&&"function"!=typeof a?Be(r):a,Ke(Be(n),"hideModal",(function(){n.props.hideNewAccountForm()})),Ke(Be(n),"handleSubmit",(function(){var e=n.api,t=e.axios,r=(0,e.route)("wallet.add-account"),a=n.props,o=a.form,c=a.intl;o.validateFields((function(e,a){De()(e)&&(t.post(r.url(),a).then((function(e){return Object(Q.c)(e,o,(function(){n.setState({confirmLoading:!1}),n.props.hideNewAccountForm(),n.triggerSuccess()}),c.formatMessage(Ve.successful))})).catch((function(e){return Object(Q.b)(e,o,a,(function(){n.setState({confirmLoading:!1})}))})),n.setState({confirmLoading:!0}))}))})),n.api=new H.a,n.state={confirmLoading:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"triggerSuccess",value:function(){var e=this.props.onSuccess;if("function"==typeof e)return e()}},{key:"render",value:function(){var e=this.state.confirmLoading,t=this.props,n=t.showNewAccountModal,r=t.form,a=t.intl,o=t.wallets,c=r.getFieldDecorator;return l.a.createElement(Me.a,{className:"cp-modal-sm",visible:n,onCancel:this.hideModal,confirmLoading:e,onOk:this.handleSubmit,title:l.a.createElement(j.a,{defaultMessage:"Add Account",id:"wallet.add_account"}),okText:l.a.createElement("span",null,l.a.createElement(j.a,{defaultMessage:"Add",id:"common.add"}))},l.a.createElement(Ce.a.Item,{labelCol:{xs:24,sm:8},wrapperCol:{xs:24,sm:16},labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Wallet",id:"common.select_wallet"})},c("wallet",{rules:[{required:!0}]})(l.a.createElement(Te.a,{className:"w-100",placeholder:a.formatMessage(Ve.wallet)},o.map((function(e){return l.a.createElement(Te.a.Option,{key:e.id,value:e.id},e.coin.name)}))))))}}])&&We(n.prototype,r),a&&We(n,a),t}(i.Component),ze=Object(O.c)(Object(S.b)((function(e){return{showNewAccountModal:e.wallet.showNewAccountModal,wallets:e.collections.wallets}}),{showNewAccountForm:be.o,hideNewAccountForm:be.l}),Object(Fe.a)())(Ge),Ye=n("noZS"),He=n.n(Ye),Qe=n("P/G1"),Ze=n.n(Qe),Je=n("EQeY"),Xe=n.n(Je),$e=n("eLk5");function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e){return(tt="function"==typeof Symbol&&"symbol"===et(Symbol.iterator)?function(e){return et(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":et(e)})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(){var e,n,r,a,o,c,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=new Array(u),f=0;f<u;f++)s[f]=arguments[f];return r=this,a=(e=rt(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==tt(a)&&"function"!=typeof a?at(r):a,o=at(n),i=function(){var e=n.props.accounts;return[{title:"Amount",dataIndex:"formatted_value_price",render:function(e,t){return l.a.createElement("span",null,"receive"===t.type?l.a.createElement("span",{className:"cp-text-success"},e):l.a.createElement("span",{className:"cp-text-danger"},e))}},{title:"Date",dataIndex:"created_at",sorter:function(e,t){return Object(O.d)(e.created_at,t.created_at)},render:function(e){return l.a.createElement("div",{style:{whiteSpace:"nowrap"}},Object(O.b)(e))}},{title:"Status",dataIndex:"confirmed",render:function(e){var t="true"===e||"boolean"==typeof e&&e;return l.a.createElement("span",null,t?l.a.createElement(Xe.a,{color:"green"},l.a.createElement(j.a,{defaultMessage:"confirmed",id:"wallet.transaction_confirmed"})):l.a.createElement(Xe.a,{color:"red"},l.a.createElement(j.a,{defaultMessage:"unconfirmed",id:"wallet.transaction_unconfirmed"})))}},{title:"Value",dataIndex:"value"},{title:"Hash",dataIndex:"hash"},{title:"Coin",dataIndex:"coin",fixed:"right",onFilter:function(e,t){return t.coin.includes(e)},filters:Ze()(He()(e,(function(e){return{text:e.wallet.coin.name,value:e.wallet.coin.name}})))}]},(c="columns")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=Object(H.b)("user.transfer-records-table");return l.a.createElement(_.a,{styleName:"cp-card-table",title:l.a.createElement(j.a,{defaultMessage:"Transfer Records",id:"wallet.transfer_records"})},l.a.createElement($e.a,{route:e.url(),columns:this.columns(),className:"mt-1",scroll:{x:!0,y:!1},size:"middle"}))}}])&&nt(n.prototype,r),a&&nt(n,a),t}(i.Component),it=Object(O.c)(j.d,Object(S.b)((function(e){var t=e.wallet.accounts,n=e.auth;return{accounts:t,auth:new E.a(n)}})))(ct),lt=n("DtFj"),ut=n.n(lt),st=n("UIqZ"),ft=n.n(st),pt=n("d1El"),mt=n.n(pt);function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e){return(yt="function"==typeof Symbol&&"symbol"===dt(Symbol.iterator)?function(e){return dt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":dt(e)})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=Object(j.c)({actionSuccessful:{id:"wallet.action_successful",defaultMessage:"Your action was successful."}}),Et=function(e){function t(e){var n,r,a,o,c,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ht(t).call(this,e),n=!a||"object"!==yt(a)&&"function"!=typeof a?gt(r):a,o=gt(n),i=function(){return[{title:l.a.createElement(j.a,{defaultMessage:"Address",id:"wallet.address"}),dataIndex:"address"},{title:l.a.createElement(j.a,{defaultMessage:"Total Received",id:"wallet.address_total_received"}),dataIndex:"total_received"},{title:l.a.createElement(j.a,{defaultMessage:"Action",id:"wallet.action"}),key:"action",render:function(e,t){return l.a.createElement("div",{style:{whiteSpace:"nowrap"}},t.reset_webhook&&l.a.createElement(mt.a,{title:"Reset Webhook"},l.a.createElement(p.a,{className:"m-0 mx-1",shape:"circle",onClick:function(){return n.resetWebhook(t)},type:"primary",icon:"sync"})))}}]},(c="getColumn")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n.api=new H.a,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,e),n=t,(r=[{key:"resetWebhook",value:function(e){var t=this,n=this.api,r=n.axios,a=n.route,o=this.props,c=o.intl,i=a("user.wallet-account.wallet-address.reset-webhook",{walletAccount:o.walletAccountId,walletAddress:e.id});r.post(i.url()).then((function(e){return Object(Q.d)(e,(function(){t.table.fetchData()}),c.formatMessage(wt.actionSuccessful))})).catch((function(e){return Object(Q.a)(e)}))}},{key:"render",value:function(){var e=this,t=this.props.walletAccountId,n=Object(H.b)("user.wallet-account.wallet-address.table",{walletAccount:t});return l.a.createElement($e.a,{route:n.url(),pagination:{pageSize:3},size:"small",ref:function(t){return e.table=t},columns:this.getColumn(),className:"mt-1"})}}])&&bt(n.prototype,r),a&&bt(n,a),t}(i.Component),Ot=Object(O.c)(j.d)(Et);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e){return(jt="function"==typeof Symbol&&"symbol"===St(Symbol.iterator)?function(e){return St(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":St(e)})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mt=function(e){function t(){var e,n,r,a,o,c,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=new Array(u),f=0;f<u;f++)s[f]=arguments[f];return r=this,a=(e=Pt(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==jt(a)&&"function"!=typeof a?xt(r):a,o=xt(n),i=function(){return[{title:l.a.createElement(j.a,{defaultMessage:"Coin",id:"wallet.coin"}),dataIndex:"coin"},{title:l.a.createElement(j.a,{defaultMessage:"Available",id:"wallet.available"}),dataIndex:"available"},{title:l.a.createElement(j.a,{defaultMessage:"On Trade",id:"wallet.on_trade"}),dataIndex:"balance_on_trade"},{title:l.a.createElement(j.a,{defaultMessage:"Valuation",id:"wallet.valuation"}),dataIndex:"formatted_available_price"},{title:l.a.createElement(j.a,{defaultMessage:"Action",id:"table.action"}),key:"action",render:function(e,t){return l.a.createElement("div",{style:{whiteSpace:"nowrap"}},l.a.createElement("a",{onClick:function(e){return n.showDepositModal(t.id)}},l.a.createElement(j.a,{defaultMessage:"Deposit",id:"wallet.deposit"})),l.a.createElement(ft.a,{type:"vertical"}),l.a.createElement("a",{onClick:function(e){return n.showWithdrawModal(t.id)}},l.a.createElement(j.a,{defaultMessage:"Withdraw",id:"wallet.withdraw"})))}}]},(c="columns")in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,e),n=t,(r=[{key:"showDepositModal",value:function(e){this.props.showDepositModal(e)}},{key:"showWithdrawModal",value:function(e){this.props.showWithdrawModal(e)}},{key:"render",value:function(){var e=this.props,t=e.accounts,n=e.accountsLoading,r=e.auth;return l.a.createElement(_.a,{styleName:"cp-card-table",title:l.a.createElement(j.a,{defaultMessage:"Accounts List",id:"wallet.account_list"}),extra:l.a.createElement(j.a,{defaultMessage:"Currency ({currency})",id:"wallet.currency_highlight",values:{currency:r.user.currency}})},l.a.createElement(ut.a,{columns:this.columns(),className:"mt-1",expandedRowRender:function(e){return l.a.createElement(Ot,{pagination:{pageSize:3},walletAccountId:e.id})},loading:n,size:"middle",rowKey:"id",scroll:{x:!0,y:!1},dataSource:t}))}}])&&_t(n.prototype,r),a&&_t(n,a),t}(i.Component),At=Object(O.c)(Object(S.b)((function(e){var t=e.wallet,n=t.accountsLoading,r=t.accounts,a=e.auth;return{accountsLoading:n,accounts:r,auth:new E.a(a)}}),{showDepositModal:be.n,showWithdrawModal:be.p}))(Mt),Ct=n("ATwu"),Nt=n.n(Ct),Tt=n("J2m7"),It=n.n(Tt),Dt=n("lbd2"),Ft=n.n(Dt),Rt=n("D1Df"),Lt=n.n(Rt);function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"===Wt(Symbol.iterator)?function(e){return Wt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Wt(e)})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zt=x.a.settings.colorPalettes,Yt=Ft.a.Paragraph,Ht=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=qt(t).call(this,e),n=!a||"object"!==Ut(a)&&"function"!=typeof a?Kt(r):a,Gt(Kt(n),"hideModal",(function(){n.props.hideDepositModal()})),Gt(Kt(n),"generateAddress",(function(){var e=n.props.accountId;if(e){var t=n.api,r=t.axios,a=(0,t.route)("user.wallet-account.generate-address",{walletAccount:e});r.post(a.url()).then((function(e){return Object(Q.d)(e,(function(e){n.setState({address:e.address,confirmLoading:!1})}))})).catch((function(e){return Object(Q.a)(e,(function(){n.setState({confirmLoading:!1})}))})),n.setState({confirmLoading:!0})}})),n.state={loading:!1,confirmLoading:!1,address:""},n.api=new H.a,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,e),n=t,(r=[{key:"getAccount",value:function(){var e=this.props,t=e.accounts,n=e.accountId;return It()(t,{id:n})}},{key:"componentDidMount",value:function(){this.getLatestAddress()}},{key:"componentDidUpdate",value:function(e,t,n){e.accountId!==this.props.accountId&&(console.log("Updated DepositModal Component"),this.getLatestAddress())}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getLatestAddress",value:function(){var e=this,t=this.props.accountId;if(t){var n=this.api,r=n.axios,a=(0,n.route)("user.wallet-account.latest-address",{walletAccount:t});r.get(a.url()).then((function(t){return Object(Q.d)(t,(function(t){e.setState({address:t.address,loading:!1})}))})).catch((function(t){return Object(Q.a)(t,(function(){e.setState({loading:!1})}))})),this.setState({loading:!0,address:""})}}},{key:"render",value:function(){var e=this.props.visible,t=this.getAccount();return l.a.createElement("div",null,l.a.createElement(Me.a,{visible:e,title:l.a.createElement(j.a,{defaultMessage:"Deposit {coin}",id:"wallet.deposit_modal_title",values:{coin:l.a.createElement("b",null,t?t.wallet.coin.name:"Coin")}}),confirmLoading:this.state.confirmLoading,onCancel:this.hideModal,onOk:this.generateAddress,okButtonProps:{disabled:!t},okText:l.a.createElement("span",null,l.a.createElement(j.a,{defaultMessage:"Generate New Address",id:"wallet.deposit_modal_ok"}))},l.a.createElement(s.a,{spinning:this.state.loading},t&&this.state.address?l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,{className:"mb-1",showIcon:!0,type:"info",message:l.a.createElement(j.a,{id:"wallet.deposit_confirmation_info",defaultMessage:"Depositing to the below address requires confirmations of the entire network. It will arrive after {confirmations} confirmations.",values:{confirmations:l.a.createElement("b",null,t.wallet.min_confirmations)}})}),l.a.createElement("div",{className:"text-center my-3"},l.a.createElement(Lt.a,{value:this.state.address,size:150,className:"img-thumbnail"})),l.a.createElement(Yt,{copyable:!0,className:"text-center my-3 cp-fs-lg"},this.state.address),l.a.createElement(Nt.a,{className:"mb-1",showIcon:!0,type:"warning",message:l.a.createElement(j.a,{defaultMessage:"Receiving on multiple addresses will cause higher transaction fee on your next external transfer. You should only generate new address when you are receiving significant funds on it.",id:"wallet.generate_new_address_warning"})})):l.a.createElement(d.a,{icon:l.a.createElement(b.a,{type:"frown",twoToneColor:zt["@primary-color"],theme:"twoTone"}),extra:l.a.createElement("span",{className:"text-muted"},l.a.createElement(j.a,{defaultMessage:"Account not found.",id:"wallet.account_not_found"})),status:"info"}))))}}])&&Bt(n.prototype,r),a&&Bt(n,a),t}(i.Component),Qt=Object(O.c)(Object(S.b)((function(e){var t=e.wallet;return{accounts:t.accounts,visible:t.visibleDepositModal,accountId:t.depositAccountId}}),{showDepositModal:be.n,hideDepositModal:be.k}))(Ht),Zt=n("pc4D"),Jt=n("iJl9"),Xt=n.n(Jt),$t=n("tpxX"),en=n.n($t),tn=n("17x9"),nn=n.n(tn);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e){return(an="function"==typeof Symbol&&"symbol"===rn(Symbol.iterator)?function(e){return rn(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":rn(e)})(e)}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=cn(t).call(this,e),n=!a||"object"!==an(a)&&"function"!=typeof a?ln(r):a,sn(ln(n),"convert",(function(e,t,n){var r=parseFloat(e);if(Number.isNaN(r))return"";var a=t(r);return en()(a,n).toString()})),sn(ln(n),"handlePriceChange",(function(e){n.setState({value:e.target.value,scale:"price"},(function(){n.triggerControlChange()}))})),sn(ln(n),"handleCoinChange",(function(e){n.setState({value:e.target.value,scale:"coin"},(function(){n.triggerControlChange()}))})),sn(ln(n),"toCoin",(function(e){return e/n.props.unitPrice})),sn(ln(n),"toPrice",(function(e){return e*n.props.unitPrice})),n.state={value:e.value,scale:"coin"},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(t,e),n=t,(r=[{key:"triggerControlChange",value:function(){var e=this.props,t=e.onChange,n=e.precision;if("function"==typeof t){var r=this.state,a=r.value,o=r.scale;if("price"===o){var c=this.convert(a,this.toCoin,n);t(parseFloat(c))}else"coin"===o&&t(parseFloat(a))}}},{key:"render",value:function(){var e=this.props,t=e.coinSymbol,n=e.currency,r=e.precision,o=this.state,i=o.value,u=o.scale,s="coin"===u?this.convert(i,this.toPrice,2):i,f="price"===u?this.convert(i,this.toCoin,r):i;return l.a.createElement("div",null,l.a.createElement(Xt.a.Group,null,l.a.createElement(c.a,{gutter:8},l.a.createElement(a.a,{xs:12,style:{marginBottom:"0"}},l.a.createElement(Xt.a,{addonAfter:t,onChange:this.handleCoinChange,value:f})),l.a.createElement(a.a,{xs:12,style:{marginBottom:"0"}},l.a.createElement(Xt.a,{addonAfter:n,onChange:this.handlePriceChange,value:s})))))}}])&&on(n.prototype,r),o&&on(n,o),t}(i.Component);fn.protoType={coinSymbol:nn.a.string.isRequired,currency:nn.a.string.isRequired,unitPrice:nn.a.number.isRequired,precision:nn.a.number.isRequired};var pn=fn;function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e){return(dn="function"==typeof Symbol&&"symbol"===mn(Symbol.iterator)?function(e){return mn(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":mn(e)})(e)}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wn=x.a.settings.colorPalettes,En=Object(j.c)({successful:{id:"wallet.transaction_sent",defaultMessage:"Transaction was sent successfully!"}}),On=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=bn(t).call(this,e),n=!a||"object"!==dn(a)&&"function"!=typeof a?hn(r):a,vn(hn(n),"getTransactionFee",(function(){var e=n.getAccount();if(!e)return!1;var t=n.api,r=t.axios,a=t.route,o=n.props.form,c=o.getFieldsValue,i=a("user.wallet-account.calc-fee",{walletAccount:e.id}),l=c(["amount"]);r.post(i.url(),l).then((function(e){return Object(Q.c)(e,o,(function(e){n.setState({feeLoading:!1,fee:e.fee,formattedFee:e.formatted_fee})}))})).catch((function(e){return Object(Q.b)(e,o,l,(function(){n.setState({feeLoading:!1})}))})),n.setState({feeLoading:!0})})),vn(hn(n),"hideModal",(function(){n.props.hideWithdrawModal()})),vn(hn(n),"handleSubmit",(function(e){var t=n.getAccount();if(!t)return!1;var r=n.props,a=r.form,o=r.intl,c=n.api,i=c.axios,l=(0,c.route)("user.wallet-account.send",{walletAccount:t.id});a.validateFields((function(e,t){De()(e)&&(i.post(l.url(),t).then((function(e){return Object(Q.c)(e,a,(function(){n.setState({confirmLoading:!1}),n.hideModal(),n.triggerSuccess()}),o.formatMessage(En.successful))})).catch((function(e){return Object(Q.b)(e,a,t,(function(){n.setState({confirmLoading:!1})}))})),n.setState({confirmLoading:!0}))}))})),n.state={formattedFee:null,fee:0,feeLoading:!1,confirmLoading:!1},n.api=new H.a,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"getAccount",value:function(){var e=this.props,t=e.accounts,n=e.accountId;return It()(t,{id:n})}},{key:"calcTotal",value:function(){var e=this.getAccount();if(!e)return null;var t=this.props.form.getFieldValue,n=this.state.fee,r=e.wallet.coin.precision,a=t("amount");if("number"!=typeof a||!a)return null;var o=this.shouldChargeFee()?a+n:a;return en()(o,r)}},{key:"shouldChargeFee",value:function(){var e=(0,this.props.form.getFieldValue)("address");return!/\S+@\S+\.\S+/.test(e)}},{key:"canSubmit",value:function(){var e=this.calcTotal(),t=this.getAccount();return!!t&&"number"==typeof e&&e&&e>0&&e<=t.available}},{key:"triggerSuccess",value:function(){var e=this.props.onSuccess;if("function"==typeof e)return e()}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.form,r=e.auth,o=n.getFieldDecorator,i=this.state,u=i.confirmLoading,s=i.fee,f=i.formattedFee,p=i.feeLoading,m=this.getAccount(),y=this.calcTotal(),h=r.twoFactorSetting();return l.a.createElement("div",null,l.a.createElement(Me.a,{visible:t,confirmLoading:u,onCancel:this.hideModal,okButtonProps:{disabled:!this.canSubmit()},onOk:this.handleSubmit,destroyOnClose:!0,okText:l.a.createElement("span",null,l.a.createElement(j.a,{defaultMessage:"Confirm",id:"common.confirm"})),title:l.a.createElement(j.a,{defaultMessage:"Withdraw {coin}",id:"wallet.withdraw_modal_title",values:{coin:l.a.createElement("b",null,m?m.wallet.coin.name:"Coin")}})},m?l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,{showIcon:!0,message:l.a.createElement(j.a,{defaultMessage:"Please make sure you check the withdraw address information carefully before the withdraw operation. You can use email address for internal transfer to avoid transaction fee.",id:"wallet.withdrawal_info"}),type:"info"}),l.a.createElement(Ce.a,{className:"mt-3",wrapperCol:{xs:24,sm:16},labelCol:{xs:24,sm:8}},l.a.createElement(Ce.a.Item,{labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Address",id:"common.address_or_email"})},o("address",{rules:[{required:!0}]})(l.a.createElement(Xt.a,null))),l.a.createElement(Ce.a.Item,{labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Amount",id:"common.amount"})},o("amount",{rules:[{type:"number",required:!0,min:m.min_transferable,max:m.max_transferable}]})(l.a.createElement(pn,{currency:m.user.currency,coinSymbol:m.wallet.coin.symbol,precision:m.wallet.coin.precision,unitPrice:m.price}))),this.shouldChargeFee()&&l.a.createElement(c.a,{className:"d-flex align-items-center mb-2",gutter:8},l.a.createElement(a.a,{className:"px-3",span:8},l.a.createElement("strong",null,l.a.createElement(j.a,{defaultMessage:"Fee",id:"wallet.fee"}))),l.a.createElement(a.a,{span:16},s>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"mr-1"},s),l.a.createElement("span",{className:"mr-1"},"(",f,")")),l.a.createElement(b.a,{spin:p,onClick:this.getTransactionFee,type:"sync"}))),y&&l.a.createElement(c.a,{className:"d-flex align-items-center mb-2",gutter:8},l.a.createElement(a.a,{className:"px-3",span:8},l.a.createElement("strong",null,l.a.createElement(j.a,{defaultMessage:"Total",id:"common.total"}))),l.a.createElement(a.a,{span:16},y)),l.a.createElement(c.a,{className:"d-flex align-items-center mb-2",gutter:8},l.a.createElement(a.a,{className:"px-3",span:8},l.a.createElement("strong",null,l.a.createElement(j.a,{defaultMessage:"Available",id:"common.available"}))),l.a.createElement(a.a,{span:16},l.a.createElement("span",{className:"".concat(this.canSubmit()&&"cp-text-success")},l.a.createElement("span",{className:"mr-1"},m.available),l.a.createElement("span",null,"(",m.formatted_available_price,")")))),l.a.createElement(ft.a,null,l.a.createElement(j.a,{defaultMessage:"Verify Identity",id:"wallet.verify_identity"})),h.outgoingTransfer()?l.a.createElement(Ce.a.Item,{labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Token",id:"common.token"})},o("token",{rules:[{required:!0}]})(l.a.createElement(Xt.a,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,{showIcon:!0,className:"mb-3",message:l.a.createElement(j.a,{defaultMessage:"You should setup two factor authentication to add an extra layer of security.",id:"wallet.validate_identity"}),type:"error"}),l.a.createElement(Ce.a.Item,{labelAlign:"left",label:l.a.createElement(j.a,{defaultMessage:"Password",id:"common.password"})},o("password",{rules:[{required:!0}]})(l.a.createElement(Xt.a.Password,{prefix:l.a.createElement(b.a,{type:"lock"}),autoComplete:"off"})))))):l.a.createElement(d.a,{icon:l.a.createElement(b.a,{type:"frown",twoToneColor:wn["@primary-color"],theme:"twoTone"}),extra:l.a.createElement("span",{className:"text-muted"},l.a.createElement(j.a,{defaultMessage:"Account not found.",id:"wallet.account_not_found"})),status:"info"})))}}])&&yn(n.prototype,r),o&&yn(n,o),t}(i.Component),Sn=Object(O.c)(Object(S.b)((function(e){var t=e.wallet,n=t.withdrawAccountId,r=t.visibleWithdrawModal,a=t.accounts,o=e.auth;return{accountId:n,visible:r,accounts:a,auth:new E.a(o)}}),{hideWithdrawModal:be.m}),Object(Fe.a)())(On),jn=n("3Xs+"),_n=n("TJpk");function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e){return(xn="function"==typeof Symbol&&"symbol"===Pn(Symbol.iterator)?function(e){return Pn(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pn(e)})(e)}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tn=Object(j.c)({pageTitle:{id:"meta.title.wallets",defaultMessage:"Wallets | {name}"}}),In=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Mn(t).call(this,e),n=!a||"object"!==xn(a)&&"function"!=typeof a?An(r):a,Nn(An(n),"fetchAccounts",(function(){n.props.fetchAccounts()})),Nn(An(n),"transferRecordSavedListener",(function(e){e.transferRecord&&e.transferRecord.confirmed&&n.fetchAccounts(),n.setState({recordsTableKey:Math.floor(100*Math.random())})})),n.broadcast=new Y.a,n.state={recordsTableKey:"transfer-record"},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.bindBroadcastEvents(),this.fetchAccounts()}},{key:"bindBroadcastEvents",value:function(){this.resetBroadcastChannel(),this.broadcast.listen("TransferRecordSaved",this.transferRecordSavedListener)}},{key:"resetBroadcastChannel",value:function(){var e=this.props.auth;e.check()?this.broadcast.setChannel("Auth.User."+e.user.id):this.broadcast.unbind()}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.auth.user;e.auth.user.id!==r.id&&(console.log("Wallet Updated"),this.resetBroadcastChannel())}},{key:"componentWillUnmount",value:function(){this.broadcast.unbind()}},{key:"getPageTitle",value:function(){return this.props.intl.formatMessage(Tn.pageTitle,{name:x.a.name})}},{key:"render",value:function(){var e=this.state.recordsTableKey;return l.a.createElement(l.a.Fragment,null,l.a.createElement(_n.Helmet,null,l.a.createElement("title",null,this.getPageTitle())),l.a.createElement(Sn,{onSuccess:this.fetchAccounts}),l.a.createElement(ze,{onSuccess:this.fetchAccounts}),l.a.createElement(Qt,null),l.a.createElement(c.a,{gutter:8},l.a.createElement(xe,null)),l.a.createElement(c.a,{gutter:8},l.a.createElement(a.a,{lg:12,xs:24},l.a.createElement(At,null)),l.a.createElement(a.a,{lg:12,xs:24},l.a.createElement(it,{key:e}))))}}])&&kn(n.prototype,r),o&&kn(n,o),t}(i.Component);t.default=Object(O.c)(Object(S.b)((function(e){var t=e.auth;return{auth:new E.a(t)}}),{fetchAuthUser:Zt.d,fetchLocaleData:jn.i,fetchAccounts:be.j}),j.d)(In)},eLk5:function(e,t,n){"use strict";var r=n("DtFj"),a=n.n(r),o=n("3OWR"),c=n.n(o),i=n("wEy/"),l=n.n(i),u=n("UfWW"),s=n.n(u),f=n("q1tI"),p=n.n(f),m=n("Falu"),d=n("mP/V");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return(b="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(e){return y(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":y(e)})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=S(t).call(this,e),n=!a||"object"!==b(a)&&"function"!=typeof a?j(r):a,P(j(n),"handleTableChange",(function(e,t){n.setState((function(n){return{pagination:E({},n.pagination,{current:e.current}),filters:E({},n.filters,{},t)}}),(function(){n.fetchData()}))}));var o=e.route,c=e.pagination,i=e.filters;return n.api=new m.a,n.pagination=new d.a(n.api,o),n.state={data:[],pagination:c||{},filters:i||{},loading:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"updateItem",value:function(e,t){var n=this.props.rowKey||"id";t="function"!=typeof t?function(t){return t[n]===e[n]}:t;var r=v(this.state.data),a=s()(r,t);a>=0&&(r[a]=e),this.setState({data:r})}},{key:"removeItem",value:function(e,t){var n=this.props.rowKey||"id";t="function"!=typeof t?function(t){return t[n]===e[n]}:t;var r=v(this.state.data),a=s()(r,t);a>=0&&l()(r,(function(e,t){return t===a})),this.setState({data:r})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"applyFilter",value:function(e){var t=this;this.setState((function(t){var n=t.pagination,r=t.filters;return{pagination:c()(n,{current:1}),filters:c()(r,e)}}),(function(){t.fetchData()}))}},{key:"clearFilter",value:function(){var e=this;this.setState((function(e){var t=e.pagination;return{filters:{},pagination:c()(t,{current:1})}}),(function(){e.fetchData()}))}},{key:"fetchData",value:function(){var e=this,t=this.state,n=t.pagination,r=t.filters;this.pagination.fetchData(n,r,(function(t){e.setState((function(e){return{pagination:E({},e.pagination,{total:void 0!==t.total?t.total:t.meta.total}),data:t.data,loading:!1}}))}),(function(){e.setState({loading:!1})})),this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){this.api.cancel()}},{key:"render",value:function(){var e=this.props,t=(e.route,e.pagination,e.filters,g(e,["route","pagination","filters"])),n=this.state,r=n.loading,o=n.data;return p.a.createElement(a.a,h({size:"middle",rowKey:"id"},t,{pagination:this.state.pagination,onChange:this.handleTableChange,dataSource:o,loading:r}))}}])&&O(n.prototype,r),o&&O(n,o),t}(f.Component);t.a=x},wUfQ:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={base:1e3,precision:2,decimalSeparator:".",lowerCase:!1,space:!1,units:["","K","M","B","T","P","E"]},u=function(e){var t=parseFloat(e);if(Number.isNaN(t))throw new Error("Value must be a valid number");if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw new RangeError("Value is either too big or too small");return t},s=a.a.mark((function e(t,n){var r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n,o=0;case 2:if(!((c=t/r)<1)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,{result:c,count:++o};case 8:r*=n,e.next=2;break;case 11:case"end":return e.stop()}}),e)})),f=function(e,t){if(!Number.isFinite(e))throw new Error("Value must be a finite number");if(!Number.isInteger(t)||t<0)throw new Error("Precision must be a non-negative integer");return Number.isInteger(e)?e:parseFloat(e.toFixed(t))};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c({},l,{},t);if(!Array.isArray(n.units)||!n.units.length)throw new Error("Units must be an array");var r=u(e),a=r<0?"-":"";r=Math.abs(r);var o=0,i=!0,p=!1,m=void 0;try{for(var d,y=s(r,n.base)[Symbol.iterator]();!(i=(d=y.next()).done);i=!0){var b=d.value;r=b.result,o=b.count}}catch(e){p=!0,m=e}finally{try{i||null==y.return||y.return()}finally{if(p)throw m}}o=o>n.units.length?n.units.length-1:o;var h=n.lowerCase?n.units[o].toLowerCase():n.units[o],g=n.space?" ":"",v=f(r,n.precision),w=v.toString().replace(".",n.decimalSeparator);return"".concat(a).concat(w).concat(g).concat(h)}}};